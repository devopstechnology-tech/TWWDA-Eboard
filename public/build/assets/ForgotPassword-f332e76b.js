import{u as x,c as v,a as w,b as k}from"./useUnexpectedErrorHandler-26b06961.js";import{u as E}from"./useStaffAuthenticateRequest-0dcbf7f2.js";import{F}from"./FormInput-a47218b6.js";import{d as S,r as V,a as C,L as n,V as L,b as N,o as t,c as a,e as s,f as i,w as d,g as _,u as r,h as p,F as P}from"./main-6dda9e4d.js";import"./staff_routes-4cc72ee9.js";const q={class:"card-header text-center"},R=s("b",null,"Eboard",-1),B={class:"card-body"},A={key:0,class:"login-box-msg text-primary"},H={key:1,class:"login-box-msg text-primary"},I={class:"input-group mb-3"},T=s("div",{class:"row"},[s("div",{class:"col-12"},[s("button",{type:"submit",class:"btn btn-primary btn-block"},"Request Change Password")])],-1),U={key:3,class:"mt-3 mb-1 text-primary"},D=S({__name:"ForgotPassword",setup($){const y=x(),o=V(!1),h=v({email:w().required("Email is a required field.")}),{handleSubmit:f,setErrors:b,setFieldError:l}=k({validationSchema:h,initialValues:{email:""}}),c=f(async m=>{try{await E(m),o.value=!0,setTimeout(()=>{C.push({name:n})},5e3)}catch(e){e instanceof L?(b(e.messages),e.messages._&&l("email",e.messages._)):(l("email","Something went wrong."),y(e))}});return(m,e)=>{const u=N("RouterLink");return t(),a(P,null,[s("div",q,[i(u,{to:{name:r(n)},class:"h1 text-primary"},{default:d(()=>[R,_("System")]),_:1},8,["to"])]),s("div",B,[o.value?(t(),a("p",H," Please check your email for the reset link. ")):(t(),a("p",A," You forgot your password? Here you can easily retrieve a new password. ")),o.value?p("",!0):(t(),a("form",{key:2,novalidate:"",onSubmit:e[0]||(e[0]=(...g)=>r(c)&&r(c)(...g))},[s("div",I,[i(F,{direction:"up",label:"Email **",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter your email",type:"email"})]),T],32)),o.value?p("",!0):(t(),a("p",U,[i(u,{to:{name:r(n)},class:"text-black underline my-12"},{default:d(()=>[_(" Already has Account, Login ")]),_:1},8,["to"])]))])],64)}}});export{D as default};
