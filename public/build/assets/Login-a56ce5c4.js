import{u as E,c as R,a as l,b as L}from"./useUnexpectedErrorHandler-2f351290.js";import{d as V,i as B,k as F,b as m,o as i,c as u,e as s,f as o,w as _,g as p,u as t,l as I,L as O,m as q,D as A,V as D}from"./main-73cc7250.js";import{b as N}from"./useStaffAuthenticateRequest-5af03de7.js";import{F as f}from"./FormInput-2746df02.js";import{_ as C}from"./LoadingComponent.vue_vue_type_script_setup_true_lang-b5da6a87.js";import{u as $}from"./useMutation-5600a136.js";import"./staff_routes-2856961c.js";import"./useQueryClient-0fa55727.js";const G={class:"card card-outline card-primary"},H={class:"card-header text-center h1 text-primary"},P=s("b",null,"Eboard",-1),T={class:"card-body"},U=s("p",{class:"login-box text-primary"},"Sign in to start your session",-1),M={class:"input-group mb-3"},W={class:"input-group mb-3"},j={class:"row"},z={class:"col-12"},J={key:0,type:"submit",class:"btn btn-primary btn-block"},K={class:"mb-1 text-primary"},ne=V({__name:"Login",setup(Q){const a=B(),h=E(),r=F(),b=R({email:l().required("Email is a required field."),password:l().required()}),{handleSubmit:g,setErrors:y,setFieldError:n}=L({validationSchema:b,initialValues:{email:"",password:"",remember:!1}}),{mutate:w,isLoading:S}=$(e=>N(e),{onSuccess:async()=>{a.intendedRoute?await r.push(a.intendedRoute):(a.setIntendedRoute(void 0),await r.push({name:A}))},onError:e=>{e instanceof D?(n("email",e.messages._),y(e.messages),e.messages._&&n("email",e.messages._)):(n("email","Something went wrong."),h(e))}}),c=g(async e=>{w(e)});return(e,d)=>{const x=m("router-link"),k=m("RouterLink");return i(),u("div",G,[s("div",H,[o(x,{to:{name:t(O)},class:"1"},{default:_(()=>[P,p("System")]),_:1},8,["to"])]),s("div",T,[U,s("form",{novalidate:"",onSubmit:d[0]||(d[0]=(...v)=>t(c)&&t(c)(...v))},[s("div",M,[o(f,{direction:"up",label:"Email **",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter your Email",type:"email"})]),s("div",W,[o(f,{direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide",placeholder:"*****",type:"password"})]),s("div",j,[s("div",z,[t(S)?(i(),I(C,{key:1})):(i(),u("button",J,"Sign In"))])])],32),s("p",K,[o(k,{to:{name:t(q)}},{default:_(()=>[p("I forgot my password")]),_:1},8,["to"])])])])}}});export{ne as default};
