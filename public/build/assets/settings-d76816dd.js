var se=Object.defineProperty;var f=(n,y)=>se(n,"name",{value:y,configurable:!0});import{n as K,q as te,aW as oe,x as ae,d as le,i as ne,k as ie,r as M,p as ce,V as de,H as D,C as O,P as re,b as pe,u as s,o as u,c as _,e,$ as me,T as k,g as C,t as p,f as m,h as g,U as E,F as R,R as $,af as ue,W as _e,X as be,_ as he}from"./main-451c20d4.js";import{u as fe,d as ge,c as A,a as r,f as ye,b as ve,e as xe}from"./useUnexpectedErrorHandler-2f1b2730.js";import{F as b}from"./FormInput-4bdc1ca0.js";import{F as N}from"./FormTextBox-4a2981cb.js";import{F as V}from"./FormUpload-637793d3.js";import{N as ke,O as Ce,P as Se,I as we,A as B,Q as Ie,R as Pe,S as Fe,T as Te,U as Ue,V as Ee,W as Ae,X as Ne,Y as Ve,Z as W}from"./Breadcrumb-ecf3abcd.js";const qe=K();async function Le(n){const y=te(),c=new FormData;c.append("id",n.id),c.append("logo",n.logo),c.append("textlogo",n.textlogo),c.append("name",n.name),c.append("about",n.about),c.append("website",n.website),c.append("iso",n.iso),c.append("isologo",n.isologo),c.append("address",n.address),c.append("county",n.county),c.append("city",n.city),c.append("state",n.state),c.append("phone1",n.phone1),c.append("phone2",n.phone2),c.append("mailtype",JSON.stringify(n.mailtype)),c.append("pspdkitlicencekey",n.pspdkitlicencekey);const S=await y.post(oe()+"/update/"+n.id,{body:c}).json();return localStorage.setItem(ae,JSON.stringify(S.data)),await qe.loadAndSaveSettings(),S}f(Le,"useUpdateSettingRequest");const l=f(n=>(_e("data-v-18f75518"),n=n(),be(),n),"_withScopeId"),Me={key:0,class:"container-fluid"},De={key:0,class:"container-fluid"},Oe={class:"row"},Re={class:"col-12 col-md-12"},$e={class:"card card-widget widget-user shadow-lg"},Be={class:"card-footer"},We={class:"d-flex align-items-center"},Ke={class:"",style:{transform:"translate(-50%, 0)",position:"absolute",top:"210px",left:"60px"}},je=["src"],ze={class:"ml-3 flex-1",style:{"margin-top":"-10px"}},Ge=l(()=>e("i",{class:"fas fa-chevron-left"},null,-1)),He={class:"h2"},Je={class:"col-12 col-md-4"},Xe={class:"card card-primary card-outline"},Ye={class:"card-body box-profile"},Qe={class:"text-center"},Ze=["src"],es={class:"profile-username text-center font-bold text-blue-primary"},ss={class:"text-muted text-justified"},ts={class:"card card-primary card-outline"},os={class:"card-body box-profile"},as={class:"text-center"},ls=["src"],ns=l(()=>e("h3",{class:"profile-username text-center font-bold text-blue-primary"},"Text Logo",-1)),is={class:"card card-primary card-outline"},cs={class:"card-body box-profile"},ds={class:"text-center"},rs=["src"],ps=l(()=>e("h3",{class:"profile-username text-center font-bold text-blue-primary"},"Iso Logo",-1)),ms={class:"text-center font-bold text-success"},us={class:"card card-primary"},_s=l(()=>e("div",{class:"card-header bg-primary"},[e("h3",{class:"card-title text-white"},[e("i",{class:"fas fa-info-circle"}),C(" Contact Information")])],-1)),bs={class:"card-body p-0"},hs={class:"info-box mb-3 bg-primary"},fs=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-map-marker-alt"})],-1)),gs={class:"info-box-content"},ys=l(()=>e("span",{class:"info-box-text"},"Address",-1)),vs={class:"info-box-number"},xs={class:"info-box mb-3 bg-success"},ks=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-phone-volume"})],-1)),Cs={class:"info-box-content"},Ss=l(()=>e("span",{class:"info-box-text"},"Phone 1",-1)),ws={class:"info-box-number"},Is={class:"info-box mb-3 bg-success"},Ps=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-phone-alt"})],-1)),Fs={class:"info-box-content"},Ts=l(()=>e("span",{class:"info-box-text"},"Phone 2",-1)),Us={class:"info-box-number"},Es={class:"info-box mb-3 bg-success"},As=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-globe-americas"})],-1)),Ns={class:"info-box-content"},Vs=l(()=>e("span",{class:"info-box-text"},"City/State",-1)),qs={class:"info-box-number"},Ls={class:"info-box mb-3 bg-success"},Ms=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-flag"})],-1)),Ds={class:"info-box-content"},Os=l(()=>e("span",{class:"info-box-text"},"County",-1)),Rs={class:"info-box-number"},$s={class:"info-box mb-3 bg-success"},Bs=l(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-globe"})],-1)),Ws={class:"info-box-content"},Ks=l(()=>e("span",{class:"info-box-text"},"Website",-1)),js={class:"info-box-number"},zs={class:"col-12 col-md-8"},Gs={key:0,class:"card card-primary card-outline"},Hs=l(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},[e("i",{class:"fas fa-edit"}),C(" Profile Setting")])],-1)),Js={key:0,class:"card-body"},Xs=ue('<nav class="nav nav-pills flex-column flex-sm-row" data-v-18f75518><a class="flex-sm-fill text-sm-center nav-link active" href="#profile-info" data-toggle="tab" data-v-18f75518> Profile Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#address-info" data-toggle="tab" data-v-18f75518> Address Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#email-setup-info" data-toggle="tab" data-v-18f75518> Mailer Setup Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#apis-info" data-toggle="tab" data-v-18f75518> Apis Info </a></nav>',1),Ys={class:"tab-content mt-2"},Qs={class:"tab-pane fade show active",id:"profile-info",role:"tabpanel"},Zs={class:"row"},et={class:"col-md-4"},st={key:0,class:"mt-2"},tt=["src"],ot={class:"col-md-4"},at={key:0,class:"mt-2"},lt=["src"],nt={class:"col-md-4"},it={key:0,class:"mt-2"},ct=["src"],dt={class:"row"},rt=l(()=>e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Company Info ")],-1)),pt={class:"tab-pane fade",id:"address-info",role:"tabpanel"},mt={class:"row"},ut=l(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Address Info ")])],-1)),_t={class:"tab-pane fade",id:"email-setup-info",role:"tabpanel"},bt={key:0,class:"row"},ht={class:"form-group col-md-4"},ft=l(()=>e("label",{class:"text-bold font-medium tracking-wide"}," Mail Type ",-1)),gt={key:0,class:"message text-danger"},yt=l(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Email Settings ")])],-1)),vt={class:"tab-pane fade",id:"apis-info",role:"tabpanel"},xt={class:"row"},kt=l(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update APIs Settings ")])],-1)),Ct={class:"card card-primary"},St=l(()=>e("div",{class:"card-header bg-primary"},[e("h3",{class:"card-title text-white"},"Email Settings Overview")],-1)),wt={class:"card-body bg-light"},It={class:"text-center mb-4"},Pt=l(()=>e("i",{class:"fas fa-envelope-open-text mr-2"},null,-1)),Ft={class:"font-bold text-primary"},Tt={class:"row"},Ut={class:"info-box-icon"},Et={class:"info-box-content"},At={class:"info-box-text"},Nt={class:"info-box-number"},Vt=l(()=>e("hr",null,null,-1)),qt={class:"text-center"},Lt=l(()=>e("strong",{class:"d-block mb-2"},[e("i",{class:"fas fa-certificate mr-2"}),C("PSPDFKit Licence Key")],-1)),Mt={class:"badge badge-primary p-2 d-inline-block text-wrap",style:{"max-width":"100%"}},Dt={key:1,class:"container-fluid"},Ot=l(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Rt=[Ot],$t=le({__name:"settings",setup(n){const y=ne(),c=ie(),S=fe(),j=M({container:"multiselect",tagRemove:"hide-icon",tagRemoveIcon:"hide-icon",clearIcon:"hide-icon",tag:"multiselect-tag w-3/4"}).value,q=K(),z=ce(),x=M([]);function G(){T(),c.back()}f(G,"goBack");const P=ge().test("fileOrString","Must be a file or a string",t=>t instanceof File||typeof t=="string"),H=A({nameField:r().required(),namePlaceholder:r().required(),valueName:r().required("This Value is required")}),J=A({id:r().required(),name:r().required("This Value is required"),active:r().required(),values:ye().of(H).required()}),X=A({id:r().nullable(),logo:P.nullable(),textlogo:P.nullable(),name:r().nullable(),about:r().nullable(),website:r().nullable(),iso:r().nullable(),isologo:P.nullable(),address:r().nullable(),county:r().nullable(),city:r().nullable(),state:r().nullable(),phone1:r().nullable(),phone2:r().nullable(),pspdkitlicencekey:r().nullable(),mailtype:J}),{handleSubmit:Y,setErrors:Q,setFieldValue:d,values:v}=ve({validationSchema:X,initialValues:{id:"",logo:"",textlogo:"",name:"",about:"",website:"",iso:"",isologo:"",address:"",county:"",city:"",state:"",phone1:"",phone2:"",pspdkitlicencekey:"",mailtype:{id:"",name:"",active:"inactive",values:[]}}}),{errorMessage:F}=xe("mailtype"),h=Y(async t=>{try{const o={id:t.id,logo:t.logo,textlogo:t.textlogo,name:t.name,about:t.about,website:t.website,iso:t.iso,isologo:t.isologo,address:t.address,county:t.county,city:t.city,state:t.state,phone1:t.phone1,phone2:t.phone2,pspdkitlicencekey:t.pspdkitlicencekey,mailtype:t.mailtype};await Le(o),T(),Z()}catch(o){o instanceof de?Q(o.messages):S(o)}}),T=f(()=>{ke(),Ce(),Se(),d("id",""),d("logo",""),d("textlogo",""),d("name",""),d("about",""),d("website",""),d("iso",""),d("isologo",""),d("address",""),d("county",""),d("city",""),d("state",""),d("phone1",""),d("phone2",""),d("pspdkitlicencekey",""),d("mailtype",{id:"",name:"",active:"",values:[]})},"resetForm"),Z=f(()=>{i.value!==null?U(i.value):console.log("No settings available to populate the form.")},"requestpopulateForm"),ee=f(t=>{x.value=[t]},"selectedmailtype");D(x,(t,o)=>{d("mailtype",t[0])}),D(()=>q.getSettings(),t=>{t&&U(t)});const U=f(t=>{T(),Object.keys(t).forEach(o=>{const w=o;d(w,t[w])}),x.value=[t.mailtype]},"populateForm"),L=O(()=>z.getMailTypes()),i=O(()=>q.getSettings());return re(()=>{i.value!==null?U(i.value):console.log("No settings available to populate the form.")}),console.log("companySettings",i.value),(t,o)=>{const w=pe("Multiselect");return s(y).hasPermission(["view settings"])?(u(),_("div",Me,[i.value?(u(),_("div",De,[e("div",Oe,[e("div",Re,[e("div",$e,[e("div",{class:"widget-user-header text-white",style:me([{background:`url(${s(we)("default.png")}) center center`},{height:"250px"}])},null,4),e("div",Be,[e("div",We,[e("span",Ke,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(B)(i.value.logo),alt:"User profile picture"},null,8,je)]),e("div",ze,[e("a",{href:"",onClick:o[0]||(o[0]=k(a=>G(),["prevent"])),class:"text-blue-primary",style:{"margin-left":"75px"}},[Ge,C(" Go back ")]),e("h3",He,p(i.value.name),1)])])])])]),e("div",Je,[e("div",Xe,[e("div",Ye,[e("div",Qe,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(B)(i.value.logo),alt:"User profile picture"},null,8,Ze)]),e("h3",es,p(i.value.name),1),e("p",ss,p(i.value.about),1)])]),e("div",ts,[e("div",os,[e("div",as,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(Ie)(i.value.textlogo),alt:"User profile picture"},null,8,ls)]),ns])]),e("div",is,[e("div",cs,[e("div",ds,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(Pe)(i.value.isologo),alt:"User profile picture"},null,8,rs)]),ps,e("p",ms,p(i.value.iso),1)])]),e("div",us,[_s,e("div",bs,[e("div",hs,[fs,e("div",gs,[ys,e("span",vs,p(i.value.address),1)])]),e("div",xs,[ks,e("div",Cs,[Ss,e("span",ws,p(i.value.phone1),1)])]),e("div",Is,[Ps,e("div",Fs,[Ts,e("span",Us,p(i.value.phone2),1)])]),e("div",Es,[As,e("div",Ns,[Vs,e("span",qs,p(i.value.city)+", "+p(i.value.state),1)])]),e("div",Ls,[Ms,e("div",Ds,[Os,e("span",Rs,p(i.value.county),1)])]),e("div",$s,[Bs,e("div",Ws,[Ks,e("span",js,p(i.value.website),1)])])])])]),e("div",zs,[s(y).hasRole(["Super Admn","Admin"])?(u(),_("div",Gs,[Hs,s(y).hasPermission(["update settings"])?(u(),_("div",Js,[Xs,e("div",Ys,[e("div",Qs,[e("form",{onSubmit:o[4]||(o[4]=k((...a)=>s(h)&&s(h)(...a),["prevent"]))},[e("div",Zs,[e("div",et,[m(V,{label:"Upload Company Logo (no text)",name:"logo",placeholder:"Upload Company Logo (no text)",type:"file",accept:"image/*",onChange:o[1]||(o[1]=a=>s(Fe)(a))}),s(v).logo?(u(),_("div",st,[e("img",{src:s(Te)(s(v).logo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,tt)])):g("",!0)]),e("div",ot,[m(V,{label:"Upload Company Text Logo (no image)",name:"textlogo",placeholder:"Upload  Company Text Logo (no image)",type:"file",class:"col-md-6",accept:"image/*",onChange:o[2]||(o[2]=a=>s(Ue)(a))}),s(v).textlogo?(u(),_("div",at,[e("img",{src:s(Ee)(s(v).textlogo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,lt)])):g("",!0)]),e("div",nt,[m(V,{label:"Upload Company Iso logo",name:"isologo",placeholder:"Upload Company Iso logo",type:"file",accept:"image/*",onChange:o[3]||(o[3]=a=>s(Ae)(a))}),s(v).logo?(u(),_("div",it,[e("img",{src:s(Ne)(s(v).isologo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,ct)])):g("",!0)])]),e("div",dt,[m(b,{labeled:!0,label:"Company Name",name:"name",class:"col-md-6 mb-2",placeholder:"Enter Company Name",type:"text"}),m(b,{labeled:!0,label:"Company Iso",name:"iso",class:"col-md-6 mb-2",placeholder:"Enter Company Iso",type:"text"}),m(N,{label:"About Company",name:"about",class:"col-md-12 mb-2",placeholder:"Enter About Company"}),rt])],32)]),e("div",pt,[e("form",{onSubmit:o[5]||(o[5]=k((...a)=>s(h)&&s(h)(...a),["prevent"]))},[e("div",mt,[m(N,{labeled:!0,label:"Company Address",name:"address",class:"col-md-12 mb-2",placeholder:"Enter Company Address"}),m(b,{labeled:!0,label:"County",name:"county",placeholder:"Enter Company County",class:"col-md-4 mb-2",type:"text"}),m(b,{labeled:!0,label:"City",name:"city",placeholder:"Enter Company City",class:"col-md-4",type:"text"}),m(b,{labeled:!0,label:"State",name:"state",placeholder:"Enter Company State",class:"col-md-4 mb-2",type:"text"}),m(b,{labeled:!0,label:"Company Phone 1",name:"phone1",placeholder:"Enter Company Phone 1",class:"col-md-4 mb-2",type:"number"}),m(b,{labeled:!0,label:"Company Phone 2",name:"phone2",placeholder:"Enter Company Phone 2",class:"col-md-4 mb-2",type:"number"}),m(b,{labeled:!0,label:"Company Website",name:"website",placeholder:"Enter Company Website",class:"col-md-4 mb-2",type:"text"})]),ut],32)]),e("div",_t,[e("form",{onSubmit:o[8]||(o[8]=k((...a)=>s(h)&&s(h)(...a),["prevent"]))},[L.value?(u(),_("div",bt,[e("div",ht,[ft,e("div",{class:E(["multiselect-container text-danger",{error:!!s(F)}])},[m(w,{id:"mailtype",modelValue:x.value,"onUpdate:modelValue":o[6]||(o[6]=a=>x.value=a),mode:"tags",required:"",placeholder:"Choose your stack","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,canDeselect:!0,options:L.value,valueProp:"id",trackBy:"id",label:"name",class:"col-span-3",classes:s(j),object:!0,onSelect:o[7]||(o[7]=a=>ee(a)),ref:"multiselectComponent"},null,8,["modelValue","options","classes"]),s(F)?(u(),_("div",gt,p(s(F)),1)):g("",!0)],2)]),(u(!0),_(R,null,$(s(v).mailtype.values,(a,I)=>(u(),_("div",{key:I,class:"col-md-4 mb-2"},[m(b,{labeled:!0,label:a.nameField,name:"mailtype.values["+I+"].valueName",placeholder:a.namePlaceholder,type:s(Ve)(a.nameField)},null,8,["label","name","placeholder","type"])]))),128))])):g("",!0),yt],32)]),e("div",vt,[e("form",{onSubmit:o[9]||(o[9]=k((...a)=>s(h)&&s(h)(...a),["prevent"]))},[e("div",xt,[m(N,{label:"Company PSPDFKIT licencekey",name:"pspdkitlicencekey",class:"col-md-12 mb-2",placeholder:"Enter Company PSPDFKIT licencekey"})]),kt],32)])])])):g("",!0)])):g("",!0),e("div",Ct,[St,e("div",wt,[e("h4",It,[Pt,C(" Email Setup Details for "),e("span",Ft,p(i.value.mailtype.name.toUpperCase()),1)]),e("div",Tt,[(u(!0),_(R,null,$(i.value.mailtype.values,(a,I)=>(u(),_("div",{class:"col-sm-6",key:I},[e("div",{class:E(["info-box",s(W)(a.nameField).color])},[e("span",Ut,[e("i",{class:E(s(W)(a.nameField).icon)},null,2)]),e("div",Et,[e("span",At,p(a.namePlaceholder),1),e("span",Nt,p(a.valueName),1)])],2)]))),128))]),Vt,e("div",qt,[Lt,e("p",Mt,p(i.value.pspdkitlicencekey),1)])])])])])])):g("",!0)])):(u(),_("div",Dt,Rt))}}});const Jt=he($t,[["__scopeId","data-v-18f75518"]]);export{Jt as default};
