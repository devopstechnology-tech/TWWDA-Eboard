import{u as v,c as E,a as s,b as S}from"./useUnexpectedErrorHandler-4e609aa9.js";import{d as N,i as R,j as q,k as I,r as D,b as F,o as n,c as m,e as t,f as r,w as V,g as A,t as B,u as i,l as C,D as P,V as T}from"./main-dbb1f149.js";import{u as Y}from"./useUserRequest-622bdf59.js";import{F as o}from"./FormInput-9ec9e7b2.js";import{_ as L}from"./LoadingComponent.vue_vue_type_script_setup_true_lang-a4c7a3e2.js";import{u as U}from"./useMutation-8ce8b6c1.js";import"./index-78587978.js";import"./useQueryClient-785d5088.js";const $={class:"card card-outline card-primary register-box"},H={class:"card-header text-center h1 text-primary"},M=t("b",null,"Eboard",-1),O={class:"font-bold error-message text-danger"},j={class:"card-body"},K=t("p",{class:"login-box-msg text-primary"},"Complete You r Registration to start your session",-1),X={class:"row"},z={class:"row"},G={class:"col-md-12 mb-2"},J={key:0,type:"submit",class:"btn btn-primary btn-block"},le=N({__name:"Register",setup(Q){const a=R(),p=v(),b=q(),l=I(),_=b.query.token,d=D(""),h=E({first:s().required(),last:s().required(),id_number:s().required(),phone:s().required(),password:s().required(),token:s().required()}),{handleSubmit:f,setErrors:y,setFieldError:W,setFieldValue:Z}=S({validationSchema:h,initialValues:{first:"",last:"",id_number:"",phone:"",password:"",token:_}}),{mutate:w,isLoading:g}=U(e=>Y(e),{onSuccess:async e=>{a.setUser(e),a.intendedRoute?await l.push(a.intendedRoute):(a.setIntendedRoute(void 0),await l.push({name:P}))},onError:e=>{d.value="TOKEN EXPIRED, request Admin To Invite You Again",e instanceof T?y(e.messages):p(e)}}),c=f(async e=>{w(e)});return(e,u)=>{const x=F("router-link");return n(),m("div",$,[t("div",H,[r(x,{to:"",class:"1"},{default:V(()=>[M,A("System")]),_:1}),t("div",O,B(d.value),1)]),t("div",j,[K,t("form",{novalidate:"",onSubmit:u[0]||(u[0]=(...k)=>i(c)&&i(c)(...k))},[t("div",X,[r(o,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),r(o,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),r(o,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),r(o,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),r(o,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-12 mb-2",placeholder:"*****",type:"password"})]),t("div",z,[t("div",G,[i(g)?(n(),C(L,{key:1})):(n(),m("button",J,"Sign In"))])])],32)])])}}});export{le as default};
