var ee=Object.defineProperty;var f=(n,y)=>ee(n,"name",{value:y,configurable:!0});import{n as K,q as se,a_ as te,x as oe,d as ae,i as le,k as ne,r as L,p as ie,V as ce,H as M,C as D,P as de,b as re,u as s,o as u,c as _,e,a4 as pe,a1 as k,g as C,t as p,f as m,h as g,R as O,F as R,T as B,aq as me,$ as ue,a0 as _e,_ as be}from"./main-d97516e2.js";import{u as he,d as fe,c as U,a as r,f as ge,b as ye,e as ve}from"./useUnexpectedErrorHandler-01ee037e.js";import{F as b}from"./FormInput-19d746f6.js";import{F as A}from"./FormTextBox-a4c4e2ba.js";import{F as N}from"./FormUpload-a6d2fc77.js";import{N as xe,O as ke,P as Ce,I as Se,B as $,Q as we,R as Ie,S as Pe,T as Fe,U as Te,V as Ee,W as Ue,X as Ae,Y as Ne,Z as Ve}from"./Breadcrumb-62de853f.js";const qe=K();async function Le(n){const y=se(),c=new FormData;c.append("id",n.id),c.append("logo",n.logo),c.append("textlogo",n.textlogo),c.append("name",n.name),c.append("about",n.about),c.append("website",n.website),c.append("iso",n.iso),c.append("isologo",n.isologo),c.append("address",n.address),c.append("county",n.county),c.append("city",n.city),c.append("state",n.state),c.append("phone1",n.phone1),c.append("phone2",n.phone2),c.append("mailtype",JSON.stringify(n.mailtype)),c.append("pspdkitlicencekey",n.pspdkitlicencekey);const S=await y.post(te()+"/update/"+n.id,{body:c}).json();return localStorage.setItem(oe,JSON.stringify(S.data)),await qe.loadAndSaveSettings(),S}f(Le,"useUpdateSettingRequest");const a=f(n=>(ue("data-v-c785b256"),n=n(),_e(),n),"_withScopeId"),Me={key:0,class:"container-fluid"},De={key:0,class:"container-fluid"},Oe={class:"row"},Re={class:"col-12 col-md-12"},Be={class:"card card-widget widget-user shadow-lg"},$e={class:"card-footer"},Ke={class:"d-flex align-items-center"},je={class:"",style:{transform:"translate(-50%, 0)",position:"absolute",top:"210px",left:"60px"}},We=["src"],ze={class:"ml-3 flex-1",style:{"margin-top":"-10px"}},Ge=a(()=>e("i",{class:"fas fa-chevron-left"},null,-1)),He={class:"h2"},Je={class:"col-12 col-md-4"},Ye={class:"card card-primary card-outline"},Qe={class:"card-body box-profile"},Xe={class:"text-center"},Ze=["src"],es={class:"profile-username text-center font-bold text-blue-primary"},ss={class:"text-muted text-justified"},ts={class:"card card-primary card-outline"},os={class:"card-body box-profile"},as={class:"text-center"},ls=["src"],ns=a(()=>e("h3",{class:"profile-username text-center font-bold text-blue-primary"},"Text Logo",-1)),is={class:"card card-primary card-outline"},cs={class:"card-body box-profile"},ds={class:"text-center"},rs=["src"],ps=a(()=>e("h3",{class:"profile-username text-center font-bold text-blue-primary"},"Iso Logo",-1)),ms={class:"text-center font-bold text-success"},us={class:"card card-primary"},_s=a(()=>e("div",{class:"card-header bg-primary"},[e("h3",{class:"card-title text-white"},[e("i",{class:"fas fa-info-circle"}),C(" Contact Information")])],-1)),bs={class:"card-body p-0"},hs={class:"info-box mb-3"},fs=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-map-marker-alt"})],-1)),gs={class:"info-box-content"},ys=a(()=>e("span",{class:"info-box-text"},"Address",-1)),vs={class:"info-box-number"},xs={class:"info-box mb-3"},ks=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-phone-volume"})],-1)),Cs={class:"info-box-content"},Ss=a(()=>e("span",{class:"info-box-text"},"Phone 1",-1)),ws={class:"info-box-number"},Is={class:"info-box mb-3"},Ps=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-phone-alt"})],-1)),Fs={class:"info-box-content"},Ts=a(()=>e("span",{class:"info-box-text"},"Phone 2",-1)),Es={class:"info-box-number"},Us={class:"info-box mb-3"},As=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-globe-americas"})],-1)),Ns={class:"info-box-content"},Vs=a(()=>e("span",{class:"info-box-text"},"City/State",-1)),qs={class:"info-box-number"},Ls={class:"info-box mb-3"},Ms=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-flag"})],-1)),Ds={class:"info-box-content"},Os=a(()=>e("span",{class:"info-box-text"},"County",-1)),Rs={class:"info-box-number"},Bs={class:"info-box mb-3"},$s=a(()=>e("span",{class:"info-box-icon"},[e("i",{class:"fas fa-globe"})],-1)),Ks={class:"info-box-content"},js=a(()=>e("span",{class:"info-box-text"},"Website",-1)),Ws={class:"info-box-number"},zs={class:"col-12 col-md-8"},Gs={key:0,class:"card card-primary card-outline"},Hs=a(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},[e("i",{class:"fas fa-edit"}),C(" Profile Setting")])],-1)),Js={key:0,class:"card-body"},Ys=me('<nav class="nav nav-pills flex-column flex-sm-row" data-v-c785b256><a class="flex-sm-fill text-sm-center nav-link active" href="#profile-info" data-toggle="tab" data-v-c785b256> Profile Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#address-info" data-toggle="tab" data-v-c785b256> Address Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#email-setup-info" data-toggle="tab" data-v-c785b256> Mailer Setup Info </a><a class="flex-sm-fill text-sm-center nav-link" href="#apis-info" data-toggle="tab" data-v-c785b256> Apis Info </a></nav>',1),Qs={class:"tab-content mt-2"},Xs={class:"tab-pane fade show active",id:"profile-info",role:"tabpanel"},Zs={class:"row"},et={class:"col-md-4"},st={key:0,class:"mt-2"},tt=["src"],ot={class:"col-md-4"},at={key:0,class:"mt-2"},lt=["src"],nt={class:"col-md-4"},it={key:0,class:"mt-2"},ct=["src"],dt={class:"row"},rt=a(()=>e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Company Info ")],-1)),pt={class:"tab-pane fade",id:"address-info",role:"tabpanel"},mt={class:"row"},ut=a(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Address Info ")])],-1)),_t={class:"tab-pane fade",id:"email-setup-info",role:"tabpanel"},bt={key:0,class:"row"},ht={class:"form-group col-md-4"},ft=a(()=>e("label",{class:"text-bold font-medium tracking-wide"}," Mail Type ",-1)),gt={key:0,class:"message text-danger"},yt=a(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update Email Settings ")])],-1)),vt={class:"tab-pane fade",id:"apis-info",role:"tabpanel"},xt={class:"row"},kt=a(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-block mt-3"}," Update APIs Settings ")])],-1)),Ct={class:"card card-primary"},St=a(()=>e("div",{class:"card-header bg-primary"},[e("h3",{class:"card-title text-white"},"Email Settings Overview")],-1)),wt={class:"card-body bg-light"},It={class:"text-center mb-4"},Pt=a(()=>e("i",{class:"fas fa-envelope-open-text mr-2"},null,-1)),Ft={class:"font-bold text-primary"},Tt={class:"row"},Et={class:"info-box"},Ut={class:"info-box-icon"},At={class:"info-box-content"},Nt={class:"info-box-text"},Vt={class:"info-box-number"},qt=a(()=>e("hr",null,null,-1)),Lt={class:"text-center"},Mt=a(()=>e("strong",{class:"d-block mb-2"},[e("i",{class:"fas fa-certificate mr-2"}),C("PSPDFKit Licence Key")],-1)),Dt={class:"p-2 d-inline-block text-wrap",style:{"max-width":"100%"}},Ot={key:1,class:"container-fluid"},Rt=a(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Bt=[Rt],$t=ae({__name:"settings",setup(n){const y=le(),c=ne(),S=he(),j=L({container:"multiselect",tagRemove:"hide-icon",tagRemoveIcon:"hide-icon",clearIcon:"hide-icon",tag:"multiselect-tag w-3/4"}).value,V=K(),W=ie(),x=L([]);function z(){T(),c.back()}f(z,"goBack");const P=fe().test("fileOrString","Must be a file or a string",t=>t instanceof File||typeof t=="string"),G=U({nameField:r().required(),namePlaceholder:r().required(),valueName:r().required("This Value is required")}),H=U({id:r().required(),name:r().required("This Value is required"),active:r().required(),values:ge().of(G).required()}),J=U({id:r().nullable(),logo:P.nullable(),textlogo:P.nullable(),name:r().nullable(),about:r().nullable(),website:r().nullable(),iso:r().nullable(),isologo:P.nullable(),address:r().nullable(),county:r().nullable(),city:r().nullable(),state:r().nullable(),phone1:r().nullable(),phone2:r().nullable(),pspdkitlicencekey:r().nullable(),mailtype:H}),{handleSubmit:Y,setErrors:Q,setFieldValue:d,values:v}=ye({validationSchema:J,initialValues:{id:"",logo:"",textlogo:"",name:"",about:"",website:"",iso:"",isologo:"",address:"",county:"",city:"",state:"",phone1:"",phone2:"",pspdkitlicencekey:"",mailtype:{id:"",name:"",active:"inactive",values:[]}}}),{errorMessage:F}=ve("mailtype"),h=Y(async t=>{try{const o={id:t.id,logo:t.logo,textlogo:t.textlogo,name:t.name,about:t.about,website:t.website,iso:t.iso,isologo:t.isologo,address:t.address,county:t.county,city:t.city,state:t.state,phone1:t.phone1,phone2:t.phone2,pspdkitlicencekey:t.pspdkitlicencekey,mailtype:t.mailtype};await Le(o),T(),X()}catch(o){o instanceof ce?Q(o.messages):S(o)}}),T=f(()=>{xe(),ke(),Ce(),d("id",""),d("logo",""),d("textlogo",""),d("name",""),d("about",""),d("website",""),d("iso",""),d("isologo",""),d("address",""),d("county",""),d("city",""),d("state",""),d("phone1",""),d("phone2",""),d("pspdkitlicencekey",""),d("mailtype",{id:"",name:"",active:"",values:[]})},"resetForm"),X=f(()=>{i.value!==null?E(i.value):console.log("No settings available to populate the form.")},"requestpopulateForm"),Z=f(t=>{x.value=[t]},"selectedmailtype");M(x,(t,o)=>{d("mailtype",t[0])}),M(()=>V.getSettings(),t=>{t&&E(t)});const E=f(t=>{T(),Object.keys(t).forEach(o=>{const w=o;d(w,t[w])}),x.value=[t.mailtype]},"populateForm"),q=D(()=>W.getMailTypes()),i=D(()=>V.getSettings());return de(()=>{i.value!==null?E(i.value):console.log("No settings available to populate the form.")}),console.log("companySettings",i.value),(t,o)=>{const w=re("Multiselect");return s(y).hasPermission(["view settings"])?(u(),_("div",Me,[i.value?(u(),_("div",De,[e("div",Oe,[e("div",Re,[e("div",Be,[e("div",{class:"widget-user-header text-white",style:pe([{background:`url(${s(Se)("default.png")}) center center`},{height:"250px"}])},null,4),e("div",$e,[e("div",Ke,[e("span",je,[e("img",{class:"profile-user-img img-fluid img-circle",src:s($)(i.value.logo),alt:"User profile picture"},null,8,We)]),e("div",ze,[e("a",{href:"",onClick:o[0]||(o[0]=k(l=>z(),["prevent"])),class:"text-blue-primary",style:{"margin-left":"75px"}},[Ge,C(" Go back ")]),e("h3",He,p(i.value.name),1)])])])])]),e("div",Je,[e("div",Ye,[e("div",Qe,[e("div",Xe,[e("img",{class:"profile-user-img img-fluid img-circle",src:s($)(i.value.logo),alt:"User profile picture"},null,8,Ze)]),e("h3",es,p(i.value.name),1),e("p",ss,p(i.value.about),1)])]),e("div",ts,[e("div",os,[e("div",as,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(we)(i.value.textlogo),alt:"User profile picture"},null,8,ls)]),ns])]),e("div",is,[e("div",cs,[e("div",ds,[e("img",{class:"profile-user-img img-fluid img-circle",src:s(Ie)(i.value.isologo),alt:"User profile picture"},null,8,rs)]),ps,e("p",ms,p(i.value.iso),1)])]),e("div",us,[_s,e("div",bs,[e("div",hs,[fs,e("div",gs,[ys,e("span",vs,p(i.value.address),1)])]),e("div",xs,[ks,e("div",Cs,[Ss,e("span",ws,p(i.value.phone1),1)])]),e("div",Is,[Ps,e("div",Fs,[Ts,e("span",Es,p(i.value.phone2),1)])]),e("div",Us,[As,e("div",Ns,[Vs,e("span",qs,p(i.value.city)+", "+p(i.value.state),1)])]),e("div",Ls,[Ms,e("div",Ds,[Os,e("span",Rs,p(i.value.county),1)])]),e("div",Bs,[$s,e("div",Ks,[js,e("span",Ws,p(i.value.website),1)])])])])]),e("div",zs,[s(y).hasRole(["Super Admn","Admin"])?(u(),_("div",Gs,[Hs,s(y).hasPermission(["update settings"])?(u(),_("div",Js,[Ys,e("div",Qs,[e("div",Xs,[e("form",{onSubmit:o[4]||(o[4]=k((...l)=>s(h)&&s(h)(...l),["prevent"]))},[e("div",Zs,[e("div",et,[m(N,{label:"Upload Company Logo (no text)",name:"logo",placeholder:"Upload Company Logo (no text)",type:"file",accept:"image/*",onChange:o[1]||(o[1]=l=>s(Pe)(l))}),s(v).logo?(u(),_("div",st,[e("img",{src:s(Fe)(s(v).logo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,tt)])):g("",!0)]),e("div",ot,[m(N,{label:"Upload Company Text Logo (no image)",name:"textlogo",placeholder:"Upload  Company Text Logo (no image)",type:"file",class:"col-md-6",accept:"image/*",onChange:o[2]||(o[2]=l=>s(Te)(l))}),s(v).textlogo?(u(),_("div",at,[e("img",{src:s(Ee)(s(v).textlogo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,lt)])):g("",!0)]),e("div",nt,[m(N,{label:"Upload Company Iso logo",name:"isologo",placeholder:"Upload Company Iso logo",type:"file",accept:"image/*",onChange:o[3]||(o[3]=l=>s(Ue)(l))}),s(v).logo?(u(),_("div",it,[e("img",{src:s(Ae)(s(v).isologo),alt:"Profile Image",class:"w-1/3 img-circle"},null,8,ct)])):g("",!0)])]),e("div",dt,[m(b,{labeled:!0,label:"Company Name",name:"name",class:"col-md-6 mb-2",placeholder:"Enter Company Name",type:"text"}),m(b,{labeled:!0,label:"Company Iso",name:"iso",class:"col-md-6 mb-2",placeholder:"Enter Company Iso",type:"text"}),m(A,{label:"About Company",name:"about",class:"col-md-12 mb-2",placeholder:"Enter About Company"}),rt])],32)]),e("div",pt,[e("form",{onSubmit:o[5]||(o[5]=k((...l)=>s(h)&&s(h)(...l),["prevent"]))},[e("div",mt,[m(A,{labeled:!0,label:"Company Address",name:"address",class:"col-md-12 mb-2",placeholder:"Enter Company Address"}),m(b,{labeled:!0,label:"County",name:"county",placeholder:"Enter Company County",class:"col-md-4 mb-2",type:"text"}),m(b,{labeled:!0,label:"City",name:"city",placeholder:"Enter Company City",class:"col-md-4",type:"text"}),m(b,{labeled:!0,label:"State",name:"state",placeholder:"Enter Company State",class:"col-md-4 mb-2",type:"text"}),m(b,{labeled:!0,label:"Company Phone 1",name:"phone1",placeholder:"Enter Company Phone 1",class:"col-md-4 mb-2",type:"number"}),m(b,{labeled:!0,label:"Company Phone 2",name:"phone2",placeholder:"Enter Company Phone 2",class:"col-md-4 mb-2",type:"number"}),m(b,{labeled:!0,label:"Company Website",name:"website",placeholder:"Enter Company Website",class:"col-md-4 mb-2",type:"text"})]),ut],32)]),e("div",_t,[e("form",{onSubmit:o[8]||(o[8]=k((...l)=>s(h)&&s(h)(...l),["prevent"]))},[q.value?(u(),_("div",bt,[e("div",ht,[ft,e("div",{class:O(["multiselect-container text-danger",{error:!!s(F)}])},[m(w,{id:"mailtype",modelValue:x.value,"onUpdate:modelValue":o[6]||(o[6]=l=>x.value=l),mode:"tags",required:"",placeholder:"Choose your stack","close-on-select":!0,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,canDeselect:!0,options:q.value,valueProp:"id",trackBy:"id",label:"name",class:"col-span-3",classes:s(j),object:!0,onSelect:o[7]||(o[7]=l=>Z(l)),ref:"multiselectComponent"},null,8,["modelValue","options","classes"]),s(F)?(u(),_("div",gt,p(s(F)),1)):g("",!0)],2)]),(u(!0),_(R,null,B(s(v).mailtype.values,(l,I)=>(u(),_("div",{key:I,class:"col-md-4 mb-2"},[m(b,{labeled:!0,label:l.nameField,name:"mailtype.values["+I+"].valueName",placeholder:l.namePlaceholder,type:s(Ne)(l.nameField)},null,8,["label","name","placeholder","type"])]))),128))])):g("",!0),yt],32)]),e("div",vt,[e("form",{onSubmit:o[9]||(o[9]=k((...l)=>s(h)&&s(h)(...l),["prevent"]))},[e("div",xt,[m(A,{label:"Company PSPDFKIT licencekey",name:"pspdkitlicencekey",class:"col-md-12 mb-2",placeholder:"Enter Company PSPDFKIT licencekey"})]),kt],32)])])])):g("",!0)])):g("",!0),e("div",Ct,[St,e("div",wt,[e("h4",It,[Pt,C(" Email Setup Details for "),e("span",Ft,p(i.value.mailtype.name.toUpperCase()),1)]),e("div",Tt,[(u(!0),_(R,null,B(i.value.mailtype.values,(l,I)=>(u(),_("div",{class:"col-sm-6",key:I},[e("div",Et,[e("span",Ut,[e("i",{class:O(s(Ve)(l.nameField).icon)},null,2)]),e("div",At,[e("span",Nt,p(l.namePlaceholder),1),e("span",Vt,p(l.valueName),1)])])]))),128))]),qt,e("div",Lt,[Mt,e("p",Dt,p(i.value.pspdkitlicencekey),1)])])])])])])):g("",!0)])):(u(),_("div",Ot,Bt))}}});const Yt=be($t,[["__scopeId","data-v-c785b256"]]);export{Yt as default};
