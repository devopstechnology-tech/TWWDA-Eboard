var Kt=Object.defineProperty;var f=(a,e)=>Kt(a,"name",{value:e,configurable:!0});import{c as He,E as Qt,p as Zt,a as Jt,b as ei,d as ti,I as K,e as Ae,f as ii,g as Le,h as je,t as si,j as se,k as Mt,l as k,m as I,n as Tt,o as Pt,q as _,r as U,s as ni,u as ne,v as It,w as N,x as ri,y as C,z as kt,A as We,B as J,C as li,D as oi,G as Nt,H as ai,J as ci,K as di,L as hi,M as gi,N as ui,O as fi,P as pi,Q as mi,R as vi,W as Si,S as bi,T as Ei,U as yi,V as P,X as Ht,Y as wi,Z as z,_ as w,$ as T,a0 as h,a1 as vt,a2 as re,a3 as Di,a4 as xi,a5 as Ri,a6 as Ci,a7 as Mi,a8 as At,a9 as Ti,aa as Lt,ab as Pi,ac as Ii,ad as ki,ae as Ni,af as Oe,ag as St,ah as Hi,ai as Ai,aj as jt,ak as ze,al as bt,am as Li,an as ji,ao as Wi,ap as Oi,aq as A,ar as L,as as Fe,at as zi,au as le,av as Fi,aw as _i,ax as Ui,ay as Wt,az as Ot,aA as Yi,aB as qi,aC as Vi,aD as Gi,aE as oe,aF as Y,aG as Xi,aH as Bi,aI as $i,aJ as Ki,aK as Qi,aL as Zi,aM as Ji,aN as es,aO as ts,aP as is,aQ as ss,aR as zt,i as ns,F as rs}from"./FullCalendar-41f8ba0b.js";import{u as ls}from"./useAlmanacRequest-a5bd94bd.js";import{u as os}from"./useScheduleRequest-76e80e8c.js";import{d as as,i as cs,r as ds,H as hs,P as gs,u as F,o as ee,c as te,e as M,f as us,w as fs,R as ps,t as Et,h as ms,aq as vs,$ as Ss,a0 as bs,_ as Es}from"./main-d97516e2.js";import{u as yt}from"./useQuery-f8736dfe.js";import"./index-a4206e89.js";import"./useQueryClient-99479e2d.js";We.touchMouseIgnoreWait=500;let ae=0,q=0,ce=!1;const Ue=class Ue{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&ys(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,ws()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new kt,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ds()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),xs()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||k(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ce=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?k(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ae||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ce=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let i=e.touches,s,r,n=0,l=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),t?(this.origPageX=s,this.origPageY=r):(n=s-this.origPageX,l=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:n,deltaY:l}}};f(Ue,"PointerDragging");let V=Ue;function ys(a){return a.button===0&&!a.ctrlKey}f(ys,"isPrimaryMouseButton");function ws(){ae+=1,setTimeout(()=>{ae-=1},We.touchMouseIgnoreWait)}f(ws,"startIgnoringMouse");function Ds(){q+=1,q===1&&window.addEventListener("touchmove",Ft,{passive:!1})}f(Ds,"listenerCreated");function xs(){q-=1,q||window.removeEventListener("touchmove",Ft,{passive:!1})}f(xs,"listenerDestroyed");function Ft(a){ce&&a.preventDefault()}f(Ft,"onWindowTouchMove");const Ye=class Ye{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=f(()=>{this.cleanup(),t()},"done");e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",J(i,{left:s.left,top:s.top}),li(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(oi(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&J(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),J(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}};f(Ye,"ElementMirror");let de=Ye;const qe=class qe extends bi{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}};f(qe,"ScrollGeomCache");let G=qe;const Ve=class Ve extends G{constructor(e,t){super(new mi(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return vi(this.scrollController.el)}};f(Ve,"ElementScrollGeomCache");let X=Ve;const Ge=class Ge extends G{constructor(e){super(new Si,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}};f(Ge,"WindowScrollGeomCache");let he=Ge;const wt=typeof performance=="function"?performance.now:Date.now,Xe=class Xe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=wt();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,s=t-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,n=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),n<0?this.everMovedLeft=!0:n>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(wt()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,n=r*r/(s*s)*this.maxVelocity*t,l=1;switch(e.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+n*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+n*l);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let n of r){let l=n.clientRect,o=e-l.left,c=l.right-e,g=t-l.top,u=l.bottom-t;o>=0&&c>=0&&g>=0&&u>=0&&(g<=i&&this.everMovedUp&&n.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:n,name:"top",distance:g}),u<=i&&this.everMovedDown&&n.canScrollDown()&&(!s||s.distance>u)&&(s={scrollCache:n,name:"bottom",distance:u}),o<=i&&this.everMovedLeft&&n.canScrollLeft()&&(!s||s.distance>o)&&(s={scrollCache:n,name:"left",distance:o}),c<=i&&this.everMovedRight&&n.canScrollRight()&&(!s||s.distance>c)&&(s={scrollCache:n,name:"right",distance:c}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new he(!1):new X(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}};f(Xe,"AutoScroller");let ge=Xe;const Be=class Be extends Qt{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Zt(document.body),Jt(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,n,{deltaX:l,deltaY:o}=s;n=l*l+o*o,n>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,ei(document.body),ti(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new V(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new de,this.autoScroller=new ge}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}};f(Be,"FeaturefulElementDragging");let H=Be;const $e=class $e{constructor(e){this.el=e,this.origRect=Nt(e),this.scrollCaches=Ei(e).map(t=>new X(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!Rs(s.getEventTarget())&&!yi(i,s.clientRect))return!1;return!0}};f($e,"OffsetTracker");let ue=$e;function Rs(a){let e=a.tagName;return e==="HTML"||e==="BODY"}f(Rs,"isIgnoredClipping");const Ke=class Ke{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new kt}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl,r;s instanceof HTMLElement&&(r=Nt(s),i=ai(i,r));let n=this.initialHit=this.queryHitForOffset(i.left,i.top);if(n){if(this.useSubjectCenter&&r){let l=ci(r,n.rect);l&&(i=di(l))}this.coordAdjust=hi(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Q(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=gi(this.droppableStore,e=>(e.component.prepareHits(),new ue(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let n in i){let l=i[n].component,o=s[n];if(o&&o.isWithinClipping(e,t)){let c=o.computeLeft(),g=o.computeTop(),u=e-c,p=t-g,{origRect:m}=o,v=m.right-m.left,d=m.bottom-m.top;if(u>=0&&u<v&&p>=0&&p<d){let S=l.queryHit(u,p,v,d);S&&ui(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||o.el.contains(document.elementFromPoint(u+c-window.scrollX,p+g-window.scrollY)))&&(!r||S.layer>r.layer)&&(S.componentId=n,S.context=l.context,S.rect.left+=c,S.rect.right+=c,S.rect.top+=g,S.rect.bottom+=g,r=S)}}}return r}};f(Ke,"HitDragging");let j=Ke;function Q(a,e){return!a&&!e?!0:!!a!=!!e?!1:fi(a.dateSpan,e.dateSpan)}f(Q,"isHitsEqual");function _t(a,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(a,e));return Object.assign(t,Cs(a,e.dateEnv)),t}f(_t,"buildDatePointApiWithContext");function Cs(a,e){return{date:e.toDate(a.range.start),dateStr:e.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}f(Cs,"buildDatePointApi");const Qe=class Qe extends K{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:n,finalHit:l}=this.hitDragging;if(n&&l&&Q(n,l)){let{context:o}=s,c=Object.assign(Object.assign({},_t(n.dateSpan,o)),{dayEl:n.dayEl,jsEvent:i.origEvent,view:o.viewApi||o.calendarApi.view});o.emitter.trigger("dateClick",c)}}},this.dragging=new H(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new j(this.dragging,Ae(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}};f(Qe,"DateClicking");let fe=Qe;const Ze=class Ze extends K{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=n=>{let{component:l,dragging:o}=this,{options:c}=l.context,g=c.selectable&&l.isValidDateDownEl(n.origEvent.target);o.setIgnoreMove(!g),o.delay=n.isTouch?Ms(l):null},this.handleDragStart=n=>{this.component.context.calendarApi.unselect(n)},this.handleHitUpdate=(n,l)=>{let{context:o}=this.component,c=null,g=!1;if(n){let u=this.hitDragging.initialHit;n.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,n)||(c=Ts(u,n,o.pluginHooks.dateSelectionTransformers)),(!c||!ii(c,n.dateProfile,o))&&(g=!0,c=null)}c?o.dispatch({type:"SELECT_DATES",selection:c}):l||o.dispatch({type:"UNSELECT_DATES"}),g?je():Le(),l||(this.dragSelection=c)},this.handlePointerUp=n=>{this.dragSelection&&(si(this.dragSelection,n,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new H(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new j(this.dragging,Ae(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};f(Ze,"DateSelecting");let pe=Ze;function Ms(a){let{options:e}=a.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}f(Ms,"getComponentTouchDelay$1");function Ts(a,e,t){let i=a.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(pi);let n={};for(let l of t){let o=l(a,e);if(o===!1)return null;o&&Object.assign(n,o)}return n.range={start:r[0],end:r[3]},n.allDay=i.allDay,n}f(Ts,"joinHitsIntoSelection");const $=class $ extends K{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=n=>{let l=n.origEvent.target,{component:o,dragging:c}=this,{mirror:g}=c,{options:u}=o.context,p=o.context;this.subjectEl=n.subjectEl;let m=this.subjectSeg=se(n.subjectEl),d=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=Mt(p.getCurrentData().eventStore,d),c.minDistance=n.isTouch?0:u.eventDragMinDistance,c.delay=n.isTouch&&d!==o.props.eventSelection?Is(o):null,u.fixedMirrorParent?g.parentNode=u.fixedMirrorParent:g.parentNode=k(l,".fc"),g.revertDuration=u.dragRevertDuration;let S=o.isValidSegDownEl(l)&&!k(l,".fc-event-resizer");c.setIgnoreMove(!S),this.isDragging=S&&n.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=n=>{let l=this.component.context,o=this.eventRange,c=o.instance.instanceId;n.isTouch?c!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(n),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new I(l,o.def,o.instance),jsEvent:n.origEvent,view:l.viewApi}))},this.handleHitUpdate=(n,l)=>{if(!this.isDragging)return;let o=this.relevantEvents,c=this.hitDragging.initialHit,g=this.component.context,u=null,p=null,m=null,v=!1,d={affectedEvents:o,mutatedEvents:_(),isEvent:!0};if(n){u=n.context;let S=u.options;g===u||S.editable&&S.droppable?(p=Ps(c,n,this.eventRange.instance.range.start,u.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(m=Tt(o,u.getCurrentData().eventUiBases,p,u),d.mutatedEvents=m,Pt(d,n.dateProfile,u)||(v=!0,p=null,m=null,d.mutatedEvents=_()))):u=null}this.displayDrag(u,d),v?je():Le(),l||(g===u&&Q(c,n)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!n||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=u,this.validMutation=p,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=n=>{if(this.isDragging){let l=this.component.context,o=l.viewApi,{receivingContext:c,validMutation:g}=this,u=this.eventRange.def,p=this.eventRange.instance,m=new I(l,u,p),v=this.relevantEvents,d=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:n.origEvent,view:o}),g){if(c===l){let b=new I(l,d.defs[u.defId],p?d.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:d});let x={oldEvent:m,event:b,relatedEvents:U(d,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},E={};for(let R of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,R(g,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},x),E),{el:n.subjectEl,delta:g.datesDelta,jsEvent:n.origEvent,view:o})),l.emitter.trigger("eventChange",x)}else if(c){let b={event:m,relatedEvents:U(v,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:n.subjectEl,view:o})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",b);let x=d.defs[u.defId],E=d.instances[p.instanceId],R=new I(c,x,E);c.dispatch({type:"MERGE_EVENTS",eventStore:d});let D={event:R,relatedEvents:U(d,c,E),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:d})}};c.emitter.trigger("eventAdd",D),n.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},_t(S.dateSpan,c)),{draggedEl:n.subjectEl,jsEvent:n.origEvent,view:S.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:n.subjectEl,view:S.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,s=this.dragging=new H(e.el);s.pointer.selector=$.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new j(this.dragging,ni);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:_(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}};f($,"EventDragging");let O=$;O.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Ps(a,e,t,i){let s=a.dateSpan,r=e.dateSpan,n=s.range.start,l=r.range.start,o={};s.allDay!==r.allDay&&(o.allDay=r.allDay,o.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?n=ne(t):n=t);let c=It(n,l,a.context.dateEnv,a.componentId===e.componentId?a.largeUnit:null);c.milliseconds&&(o.allDay=!1);let g={datesDelta:c,standardProps:o};for(let u of i)u(g,a,e);return g}f(Ps,"computeEventMutation");function Is(a){let{options:e}=a.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}f(Is,"getComponentTouchDelay");const Je=class Je extends K{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:n}=this,l=this.querySegEl(r),o=se(l),c=this.eventRange=o.eventRange;this.dragging.minDistance=n.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=r=>{let{context:n}=this.component,l=this.eventRange;this.relevantEvents=Mt(n.getCurrentData().eventStore,this.eventRange.instance.instanceId);let o=this.querySegEl(r);this.draggingSegEl=o,this.draggingSeg=se(o),n.calendarApi.unselect(),n.emitter.trigger("eventResizeStart",{el:o,event:new I(n,l.def,l.instance),jsEvent:r.origEvent,view:n.viewApi})},this.handleHitUpdate=(r,n,l)=>{let{context:o}=this.component,c=this.relevantEvents,g=this.hitDragging.initialHit,u=this.eventRange.instance,p=null,m=null,v=!1,d={affectedEvents:c,mutatedEvents:_(),isEvent:!0};r&&(r.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,r)||(p=ks(g,r,l.subjectEl.classList.contains("fc-event-resizer-start"),u.range))),p&&(m=Tt(c,o.getCurrentData().eventUiBases,p,o),d.mutatedEvents=m,Pt(d,r.dateProfile,o)||(v=!0,p=null,m=null,d.mutatedEvents=null)),m?o.dispatch({type:"SET_EVENT_RESIZE",state:d}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),v?je():Le(),n||(p&&Q(g,r)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=m)},this.handleDragEnd=r=>{let{context:n}=this.component,l=this.eventRange.def,o=this.eventRange.instance,c=new I(n,l,o),g=this.relevantEvents,u=this.mutatedRelevantEvents;if(n.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:r.origEvent,view:n.viewApi}),this.validMutation){let p=new I(n,u.defs[l.defId],o?u.instances[o.instanceId]:null);n.dispatch({type:"MERGE_EVENTS",eventStore:u});let m={oldEvent:c,event:p,relatedEvents:U(u,n,o),revert(){n.dispatch({type:"MERGE_EVENTS",eventStore:g})}};n.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||N(0),endDelta:this.validMutation.endDelta||N(0),jsEvent:r.origEvent,view:n.viewApi})),n.emitter.trigger("eventChange",m)}else n.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new H(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new j(this.dragging,Ae(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return k(e.subjectEl,".fc-event")}};f(Je,"EventResizing");let me=Je;function ks(a,e,t,i){let s=a.context.dateEnv,r=a.dateSpan.range.start,n=e.dateSpan.range.start,l=It(r,n,s,a.largeUnit);if(t){if(s.add(i.start,l)<i.end)return{startDelta:l}}else if(s.add(i.end,l)>i.start)return{endDelta:l};return null}f(ks,"computeMutation");const et=class et{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=ri(i.origEvent);this.matchesCancel=!!k(r,s),this.matchesEvent=!!k(r,O.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,n=s.getCurrentData();if(!r.wasTouchScroll){if(n.dateSelection&&!this.isRecentPointerDateSelect){let l=s.options.unselectAuto;l&&(!l||!this.matchesCancel)&&s.calendarApi.unselect(i)}n.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new V(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}};f(et,"UnselectAuto");let ve=et;const Ns={fixedMirrorParent:C},Hs={dateClick:C,eventDragStart:C,eventDragStop:C,eventDrop:C,eventResizeStart:C,eventResizeStop:C,eventResize:C,drop:C,eventReceive:C,eventLeave:C};We.dataAttrPrefix="";var As=He({name:"@fullcalendar/interaction",componentInteractions:[fe,pe,O,me],calendarInteractions:[ve],elementDraggingImpl:H,optionRefiners:Ns,listenerRefiners:Hs});const tt=class tt extends z{constructor(){super(...arguments),this.buildDayTableModel=w(xi),this.slicer=new Ri,this.state={labelId:Ci()}}render(){const{props:e,state:t,context:i}=this,{dateProfile:s,forPrint:r}=e,{options:n}=i,l=this.buildDayTableModel(s,i.dateProfileGenerator),o=this.slicer.sliceProps(e,s,n.nextDayThreshold,i,l),c=e.tableWidth!=null?e.tableWidth/n.aspectRatio:null,g=l.cells.length,u=c!=null?c/g:null;return h("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},h("div",{className:"fc-multimonth-header",style:{marginBottom:u},role:"presentation"},h("div",{className:"fc-multimonth-title",id:t.labelId},i.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),h("table",{className:["fc-multimonth-header-table",i.theme.getClass("table")].join(" "),role:"presentation"},h("thead",{role:"rowgroup"},h(At,{dateProfile:e.dateProfile,dates:l.headerDates,datesRepDistinctDays:!1})))),h("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!r&&"fc-daygrid-body-balanced",r&&"fc-daygrid-body-unbalanced",r&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-u}},h("table",{className:["fc-multimonth-daygrid-table",i.theme.getClass("table")].join(" "),style:{height:r?"":c},role:"presentation"},h("tbody",{role:"rowgroup"},h(Mi,Object.assign({},o,{dateProfile:s,cells:l.cells,eventSelection:e.eventSelection,dayMaxEvents:!r,dayMaxEventRows:!r,showWeekNumbers:n.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:r}))))))}};f(tt,"SingleMonth");let Se=tt;const it=class it extends z{constructor(){super(...arguments),this.splitDateProfileByMonth=w(js),this.buildMonthFormat=w(zs),this.scrollElRef=T(),this.firstMonthElRef=T(),this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:t,state:i}=this,{options:s}=e,{clientWidth:r,clientHeight:n}=i,l=i.monthHPadding||0,o=Math.min(r!=null?Math.floor(r/(s.multiMonthMinWidth+l)):1,s.multiMonthMaxColumns)||1,c=100/o+"%",g=r==null?null:r/o-l,u=r!=null&&o===1,p=this.splitDateProfileByMonth(e.dateProfileGenerator,t.dateProfile,e.dateEnv,u?!1:s.fixedWeekCount,s.showNonCurrentDates),m=this.buildMonthFormat(s.multiMonthTitleFormat,p),v=["fc-multimonth",u?"fc-multimonth-singlecol":"fc-multimonth-multicol",g!=null&&g<400?"fc-multimonth-compact":""];return h(re,{elRef:this.scrollElRef,elClasses:v,viewSpec:e.viewSpec},p.map((d,S)=>{const b=vt(d.currentRange.start);return h(Se,Object.assign({},t,{key:b,isoDateStr:b,elRef:S===0?this.firstMonthElRef:void 0,titleFormat:m,dateProfile:d,width:c,tableWidth:g,clientWidth:r,clientHeight:n}))}))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){Di(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&this.state.monthHPadding==null&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.state.monthHPadding!=null){const{currentDate:e}=this.props.dateProfile,t=this.scrollElRef.current,i=t.querySelector(`[data-date="${vt(e)}"]`);t.scrollTop=i.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}};f(it,"MultiMonthView");let be=it;const Ls=N(1,"month");function js(a,e,t,i,s){const{start:r,end:n}=e.currentRange;let l=r;const o=[];for(;l.valueOf()<n.valueOf();){const c=t.add(l,Ls),g={start:a.skipHiddenDays(l),end:a.skipHiddenDays(c,-1,!0)};let u=Ti({currentRange:g,snapToWeek:!0,fixedWeekCount:i,dateEnv:t});u={start:a.skipHiddenDays(u.start),end:a.skipHiddenDays(u.end,-1,!0)};const p=e.activeRange?Lt(e.activeRange,s?u:g):null;o.push({currentDate:e.currentDate,isValid:e.isValid,validRange:e.validRange,renderRange:u,activeRange:p,currentRange:g,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:e.dateIncrement,slotMinTime:e.slotMaxTime,slotMaxTime:e.slotMinTime}),l=c}return o}f(js,"splitDateProfileByMonth");const Ws=P({year:"numeric",month:"long"}),Os=P({month:"long"});function zs(a,e){return a||(e[0].currentRange.start.getUTCFullYear()!==e[e.length-1].currentRange.start.getUTCFullYear()?Ws:Os)}f(zs,"buildMonthFormat");const Fs={multiMonthTitleFormat:P,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};var _s=".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}";Ht(_s);var Us=He({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:Fs,views:{multiMonth:{component:be,dateProfileGeneratorClass:wi,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});const st=class st extends Wi{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Oi(e)?["timed","allDay"]:["allDay"]:["timed"]}};f(st,"AllDaySplitter");let Ee=st;const Ys=P({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Ut(a){let e=["fc-timegrid-slot","fc-timegrid-slot-label",a.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return h(Fi.Consumer,null,t=>{if(!a.isLabeled)return h("td",{className:e.join(" "),"data-time":a.isoTimeStr});let{dateEnv:i,options:s,viewApi:r}=t,n=s.slotLabelFormat==null?Ys:Array.isArray(s.slotLabelFormat)?P(s.slotLabelFormat[0]):P(s.slotLabelFormat),l={level:0,time:a.time,date:i.toDate(a.date),view:r,text:i.format(a.date,n)};return h(Oe,{elTag:"td",elClasses:e,elAttrs:{"data-time":a.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:qs,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},o=>h("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},h(o,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}f(Ut,"TimeColsAxisCell");function qs(a){return a.text}f(qs,"renderInnerContent");const nt=class nt extends A{render(){return this.props.slatMetas.map(e=>h("tr",{key:e.key},h(Ut,Object.assign({},e))))}};f(nt,"TimeBodyAxis");let ye=nt;const Vs=P({week:"short"}),Gs=5,rt=class rt extends z{constructor(){super(...arguments),this.allDaySplitter=new Ee,this.headerElRef=T(),this.rootElRef=T(),this.scrollerElRef=T(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,r=s.renderRange,l=Ii(r.start,r.end)===1?ki(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?h(Ni,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:Vs},o=>h("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},h(o,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):h("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},h("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,s={text:t.allDayText,view:i};return h(Oe,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Xs,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},r=>h("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},h(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:s,props:r}=this,n=[],l=St(s.options);return e&&n.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(n.push({type:"body",key:"all-day",chunk:{content:t}}),n.push({type:"body",key:"all-day-divider",outerContent:h("tr",{role:"presentation",className:"fc-scrollgrid-section"},h("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),n.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),h(re,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},h(Hi,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:n}))}renderHScrollLayout(e,t,i,s,r,n,l){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{context:c,props:g}=this,u=!g.forPrint&&St(c.options),p=!g.forPrint&&Ai(c.options),m=[];e&&m.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:d=>h("tr",{role:"presentation"},this.renderHeadAxis("day",d.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:d=>h("tr",{role:"presentation"},this.renderTableRowAxis(d.rowSyncHeights[0]))},{key:"cols",content:t}]}),m.push({key:"all-day-divider",type:"body",outerContent:h("tr",{role:"presentation",className:"fc-scrollgrid-section"},h("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let v=c.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:d=>h("div",{className:"fc-timegrid-axis-chunk"},h("table",{"aria-hidden":!0,style:{height:d.expandRows?d.clientHeight:""}},d.tableColGroupNode,h("tbody",null,h(ye,{slatMetas:n}))),h("div",{className:"fc-timegrid-now-indicator-container"},h(jt,{unit:v?"minute":"day"},S=>{let b=v&&l&&l.safeComputeTop(S);return typeof b=="number"?h(ze,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),p&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:bt},{key:"cols",content:bt}]}),h(re,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},h(o,{liquid:!g.isHeightAuto&&!g.forPrint,forPrint:g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:r}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=Gs),{dayMaxEvents:e,dayMaxEventRows:t}}};f(rt,"TimeColsView");let we=rt;function Xs(a){return a.text}f(Xs,"renderAllDayInner");const lt=class lt{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(Yi(t.currentRange,e)){let i=ne(e),s=e.valueOf()-i.valueOf();if(s>=L(t.slotMinTime)&&s<L(t.slotMaxTime))return this.computeTimeTop(N(s))}return null}computeDateTop(e,t){return t||(t=ne(e)),this.computeTimeTop(N(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,s=t.els.length,r=(e.milliseconds-L(i.slotMinTime))/L(this.slotDuration),n,l;return r=Math.max(0,r),r=Math.min(s,r),n=Math.floor(r),n=Math.min(n,s-1),l=r-n,t.tops[n]+t.getHeight(n)*l}};f(lt,"TimeColsSlatsCoords");let De=lt;const ot=class ot extends A{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:s}=e;return h("tbody",null,e.slatMetas.map((r,n)=>{let l={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi};return h("tr",{key:r.key,ref:s.createRef(r.key)},e.axis&&h(Ut,Object.assign({},r)),h(Oe,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}};f(ot,"TimeColsSlatsBody");let xe=ot;const at=class at extends A{constructor(){super(...arguments),this.rootElRef=T(),this.slatElRefs=new Wt}render(){let{props:e,context:t}=this;return h("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},h("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,h(xe,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new De(new Ot(this.rootElRef.current,Bs(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};f(at,"TimeColsSlats");let Re=at;function Bs(a,e){return e.map(t=>a[t.key])}f(Bs,"collectSlatEls");function W(a,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(a)for(i=0;i<a.length;i+=1)t[a[i].col].push(a[i]);return t}f(W,"splitSegsByCol");function Dt(a,e){let t=[];if(a){for(let i=0;i<e;i+=1)t[i]={affectedInstances:a.affectedInstances,isEvent:a.isEvent,segs:[]};for(let i of a.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}f(Dt,"splitInteractionByCol");const ct=class ct extends A{render(){let{props:e}=this;return h(Zi,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Yt(e.hiddenSegs,e),defaultGenerator:$s,forceTimed:!0},t=>h(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};f(ct,"TimeColMoreLink");let Ce=ct;function $s(a){return a.shortText}f($s,"renderMoreLinkInner");function Ks(a,e,t){let i=new ts;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let s=i.addSegs(a),r=es(s),n=Qs(i);return n=tn(n,1),{segRects:sn(n),hiddenGroups:r}}f(Ks,"buildPositioning");function Qs(a){const{entriesByLevel:e}=a,t=_e((i,s)=>i+":"+s,(i,s)=>{let r=en(a,i,s),n=xt(r,t),l=e[i][s];return[Object.assign(Object.assign({},l),{nextLevelNodes:n[0]}),l.thickness+n[1]]});return xt(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}f(Qs,"buildWeb");function xt(a,e){if(!a)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=a,r=i,n=[];for(;r<s;)n.push(e(t,r)),r+=1;return n.sort(Zs),[n.map(Js),n[0][1]]}f(xt,"buildNodes");function Zs(a,e){return e[1]-a[1]}f(Zs,"cmpDescPressures");function Js(a){return a[0]}f(Js,"extractNode");function en(a,e,t){let{levelCoords:i,entriesByLevel:s}=a,r=s[e][t],n=i[e]+r.thickness,l=i.length,o=e;for(;o<l&&i[o]<n;o+=1);for(;o<l;o+=1){let c=s[o],g,u=is(c,r.span.start,ss),p=u[0]+u[1],m=p;for(;(g=c[m])&&g.span.start<r.span.end;)m+=1;if(p<m)return{level:o,lateralStart:p,lateralEnd:m}}return null}f(en,"findNextLevelSegs");function tn(a,e){const t=_e((i,s,r)=>zt(i),(i,s,r)=>{let{nextLevelNodes:n,thickness:l}=i,o=l+r,c=l/o,g,u=[];if(!n.length)g=e;else for(let m of n)if(g===void 0){let v=t(m,s,o);g=v[0],u.push(v[1])}else{let v=t(m,g,0);u.push(v[1])}let p=(g-s)*c;return[g-p,Object.assign(Object.assign({},i),{thickness:p,nextLevelNodes:u})]});return a.map(i=>t(i,0,0)[1])}f(tn,"stretchWeb");function sn(a){let e=[];const t=_e((s,r,n)=>zt(s),(s,r,n)=>{let l=Object.assign(Object.assign({},s),{levelCoord:r,stackDepth:n,stackForward:0});return e.push(l),l.stackForward=i(s.nextLevelNodes,r+s.thickness,n+1)+1});function i(s,r,n){let l=0;for(let o of s)l=Math.max(t(o,r,n),l);return l}return f(i,"processNodes"),i(a,0,0),e}f(sn,"webToRects");function _e(a,e){const t={};return(...i)=>{let s=a(...i);return s in t?t[s]:t[s]=e(...i)}}f(_e,"cacheable");function Rt(a,e,t=null,i=0){let s=[];if(t)for(let r=0;r<a.length;r+=1){let n=a[r],l=t.computeDateTop(n.start,e),o=Math.max(l+(i||0),t.computeDateTop(n.end,e));s.push({start:Math.round(l),end:Math.round(o)})}return s}f(Rt,"computeSegVCoords");function nn(a,e,t,i){let s=[],r=[];for(let c=0;c<a.length;c+=1){let g=e[c];g?s.push({index:c,thickness:1,span:g}):r.push(a[c])}let{segRects:n,hiddenGroups:l}=Ks(s,t,i),o=[];for(let c of n)o.push({seg:a[c.index],rect:c});for(let c of r)o.push({seg:c,rect:null});return{segPlacements:o,hiddenGroups:l}}f(nn,"computeFgSegPlacements");const rn=P({hour:"numeric",minute:"2-digit",meridiem:!1}),dt=class dt extends A{render(){return h(Ji,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:rn}))}};f(dt,"TimeColEvent");let B=dt;const ht=class ht extends A{constructor(){super(...arguments),this.sortEventSegs=w(qi)}render(){let{props:e,context:t}=this,{options:i}=t,s=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],n=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return h(Gi,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},o=>h("div",{className:"fc-timegrid-col-frame"},h("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),h("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,n,!1,!1,!1)),h("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),h("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Vi(i)&&h(o,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,s,r,n){let{props:l}=this;return l.forPrint?Yt(e,l):this.renderPositionedFgSegs(e,t,i,s,r,n)}renderPositionedFgSegs(e,t,i,s,r,n){let{eventMaxStack:l,eventShortHeight:o,eventOrderStrict:c,eventMinHeight:g}=this.context.options,{date:u,slatCoords:p,eventSelection:m,todayRange:v,nowDate:d}=this.props,S=i||s||r,b=Rt(e,u,p,g),{segPlacements:x,hiddenGroups:E}=nn(e,b,c,l);return h(Y,null,this.renderHiddenGroups(E,e),x.map(R=>{let{seg:D,rect:y}=R,Z=D.eventRange.instance.instanceId,Vt=S||!!(!t[Z]&&y),Gt=ie(y&&y.span),Xt=!S&&y?this.computeSegHStyle(y):{left:0,right:0},Bt=!!y&&y.stackForward>0,$t=!!y&&y.span.end-y.span.start<o;return h("div",{className:"fc-timegrid-event-harness"+(Bt?" fc-timegrid-event-harness-inset":""),key:n||Z,style:Object.assign(Object.assign({visibility:Vt?"":"hidden"},Gt),Xt)},h(B,Object.assign({seg:D,isDragging:i,isResizing:s,isDateSelecting:r,isSelected:Z===m,isShort:$t},oe(D,v,d))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:l,eventDrag:o,eventResize:c}=this.props;return h(Y,null,e.map(g=>{let u=ie(g.span),p=ln(g.entries,t);return h(Ce,{key:Xi(Bi(p)),hiddenSegs:p,top:u.top,bottom:u.bottom,extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:l,eventDrag:o,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:s}=this,n=Rt(e,i.date,i.slatCoords,s.options.eventMinHeight).map((l,o)=>{let c=e[o];return h("div",{key:Qi(c.eventRange),className:"fc-timegrid-bg-harness",style:ie(l)},t==="bg-event"?h($i,Object.assign({seg:c},oe(c,i.todayRange,i.nowDate))):Ki(t))});return h(Y,null,n)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((s,r)=>h(ze,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,r=e.levelCoord,n=e.levelCoord+e.thickness,l,o;s&&(n=Math.min(1,r+(n-r)*2)),t?(l=1-n,o=r):(l=r,o=1-n);let c={zIndex:e.stackDepth+1,left:l*100+"%",right:o*100+"%"};return s&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=10*2),c}};f(ht,"TimeCol");let Me=ht;function Yt(a,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:s,eventResize:r}){let n=(s?s.affectedInstances:null)||(r?r.affectedInstances:null)||{};return h(Y,null,a.map(l=>{let o=l.eventRange.instance.instanceId;return h("div",{key:o,style:{visibility:n[o]?"hidden":""}},h(B,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===i,isShort:!1},oe(l,e,t))))}))}f(Yt,"renderPlainFgSegs");function ie(a){return a?{top:a.start,bottom:-a.end}:{top:"",bottom:""}}f(ie,"computeSegVStyle");function ln(a,e){return a.map(t=>e[t.index])}f(ln,"compileSegsFromEntries");const gt=class gt extends A{constructor(){super(...arguments),this.splitFgEventSegs=w(W),this.splitBgEventSegs=w(W),this.splitBusinessHourSegs=w(W),this.splitNowIndicatorSegs=w(W),this.splitDateSelectionSegs=w(W),this.splitEventDrag=w(Dt),this.splitEventResize=w(Dt),this.rootElRef=T(),this.cellElRefs=new Wt}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,s),n=this.splitBgEventSegs(e.bgEventSegs,s),l=this.splitBusinessHourSegs(e.businessHourSegs,s),o=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),g=this.splitEventDrag(e.eventDrag,s),u=this.splitEventResize(e.eventResize,s);return h("div",{className:"fc-timegrid-cols",ref:this.rootElRef},h("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,h("tbody",{role:"presentation"},h("tr",{role:"row"},e.axis&&h("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},h("div",{className:"fc-timegrid-col-frame"},h("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&h(ze,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((p,m)=>h(Me,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:r[m],bgEventSegs:n[m],businessHourSegs:l[m],nowIndicatorSegs:o[m],dateSelectionSegs:c[m],eventDrag:g[m],eventResize:u[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Ot(this.rootElRef.current,on(this.cellElRefs.currentMap,e.cells),!0,!1))}};f(gt,"TimeColsContent");let Te=gt;function on(a,e){return e.map(t=>a[t.key])}f(on,"collectCellEls");const ut=class ut extends z{constructor(){super(...arguments),this.processSlotOptions=w(an),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let s=i.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return h("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},h(Re,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),h(Te,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:s}=this.context,{colCoords:r}=this,{dateProfile:n}=this.props,{slatCoords:l}=this.state,{snapDuration:o,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),g=r.leftToIndex(e),u=l.positions.topToIndex(t);if(g!=null&&u!=null){let p=this.props.cells[g],m=l.positions.tops[u],v=l.positions.getHeight(u),d=(t-m)/v,S=Math.floor(d*c),b=u*c+S,x=this.props.cells[g].date,E=le(n.slotMinTime,_i(o,b)),R=i.add(x,E),D=i.add(R,o);return{dateProfile:n,dateSpan:Object.assign({range:{start:R,end:D},allDay:!1},p.extraDateSpan),dayEl:r.els[g],rect:{left:r.lefts[g],right:r.rights[g],top:m,bottom:m+v},layer:0}}return null}};f(ut,"TimeCols");let Pe=ut;function an(a,e){let t=e||a,i=Fe(a,t);return i===null&&(t=a,i=1),{snapDuration:t,snapsPerSlot:i}}f(an,"processSlotOptions");const ft=class ft extends Ui{sliceRange(e,t){let i=[];for(let s=0;s<t.length;s+=1){let r=Lt(e,t[s]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:s})}return i}};f(ft,"DayTimeColsSlicer");let Ie=ft;const pt=class pt extends z{constructor(){super(...arguments),this.buildDayRanges=w(cn),this.slicer=new Ie,this.timeColsRef=T()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:s}=e,{nowIndicator:r,nextDayThreshold:n}=t.options,l=this.buildDayRanges(s,i,t.dateEnv);return h(jt,{unit:r?"minute":"day"},(o,c)=>h(Pe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:r&&this.slicer.sliceNowDate(o,i,n,t,l),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};f(pt,"DayTimeCols");let ke=pt;function cn(a,e,t){let i=[];for(let s of a.headerDates)i.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return i}f(cn,"buildDayRanges");const Ct=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function dn(a,e,t,i,s){let r=new Date(0),n=a,l=N(0),o=t||hn(i),c=[];for(;L(n)<L(e);){let g=s.add(r,n),u=Fe(l,o)!==null;c.push({date:g,time:n,key:g.toISOString(),isoTimeStr:zi(g),isLabeled:u}),n=le(n,i),l=le(l,i)}return c}f(dn,"buildSlatMetas");function hn(a){let e,t,i;for(e=Ct.length-1;e>=0;e-=1)if(t=N(Ct[e]),i=Fe(t,a),i!==null&&i>1)return t;return a}f(hn,"computeLabelInterval");const mt=class mt extends we{constructor(){super(...arguments),this.buildTimeColsModel=w(gn),this.buildSlatMetas=w(dn)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:r}=s,n=this.buildTimeColsModel(r,i),l=this.allDaySplitter.splitProps(s),o=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,g=!c,u=c,p=e.dayHeaders&&h(At,{dates:n.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(d=>h(Pi,Object.assign({},l.allDay,{dateProfile:r,dayTableModel:n,nextDayThreshold:e.nextDayThreshold,tableMinWidth:d.tableMinWidth,colGroupNode:d.tableColGroupNode,renderRowIntro:g?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:d.clientWidth,clientHeight:d.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),v=f(d=>h(ke,Object.assign({},l.timed,{dayTableModel:n,dateProfile:r,axis:g,slotDuration:e.slotDuration,slatMetas:o,forPrint:s.forPrint,tableColGroupNode:d.tableColGroupNode,tableMinWidth:d.tableMinWidth,clientWidth:d.clientWidth,clientHeight:d.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:d.expandRows,onScrollTopRequest:this.handleScrollTopRequest})),"timeGridContent");return u?this.renderHScrollLayout(p,m,v,n.colCnt,c,o,this.state.slatCoords):this.renderSimpleLayout(p,m,v)}};f(mt,"DayTimeColsView");let Ne=mt;function gn(a,e){let t=new Li(a.renderRange,e);return new ji(t,!1)}f(gn,"buildTimeColsModel");var un='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Ht(un);const fn={allDaySlot:Boolean};var pn=He({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:fn,views:{timeGrid:{component:Ne,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const qt=f(a=>(Ss("data-v-2cac0460"),a=a(),bs(),a),"_withScopeId"),mn={key:0,class:"container-fluid"},vn={class:"card"},Sn={class:"card-header"},bn=qt(()=>M("h3",{class:"card-title"},"Calendar",-1)),En=vs('<div class="card" data-v-2cac0460><div class="card-header" data-v-2cac0460><div class="row" data-v-2cac0460><div class="col-md-6" data-v-2cac0460><h1 class="h3 mb-3" data-v-2cac0460>Almanac Year Schedule Meetings</h1><ul class="list-unstyled" data-v-2cac0460><li class="legend-item" data-v-2cac0460><span class="badge bg-success" data-v-2cac0460> </span> Approved Almanac </li><li class="legend-item" data-v-2cac0460><span class="badge bg-primary" data-v-2cac0460> </span> Upcoming Almanac </li><li class="legend-item" data-v-2cac0460><span class="badge bg-secondary" data-v-2cac0460> </span> Past Almanac </li><li class="legend-item" data-v-2cac0460><span class="badge bg-warning text-dark" data-v-2cac0460> </span> Almanac Base </li></ul></div><div class="col-md-6" data-v-2cac0460><h1 class="h3 mb-3" data-v-2cac0460>Actual Meetings</h1><ul class="list-unstyled" data-v-2cac0460><li class="legend-item" data-v-2cac0460><span class="badge bg-success" data-v-2cac0460> </span> Approved Meeting </li><li class="legend-item" data-v-2cac0460><span class="badge bg-warning text-dark" data-v-2cac0460> </span> Upcoming Meeting </li><li class="legend-item" data-v-2cac0460><span class="badge bg-secondary" data-v-2cac0460> </span> Past Meeting </li><li class="legend-item" data-v-2cac0460><span class="badge bg-info" data-v-2cac0460> </span> Meeting Base </li></ul></div></div></div></div>',1),yn={class:"card-body p-0"},wn={key:0},Dn={key:1,class:"container-fluid"},xn=qt(()=>M("p",{class:"m-0"},[M("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Rn=[xn],Cn=as({__name:"Calendar",setup(a){const e=cs(),t=ds({plugins:[ns,pn,As,Us],headerToolbar:{left:"prev,next today",center:"title",right:"timeGridDay,timeGridWeek,dayGridMonth,multiMonthYear"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:[]}),i=f(()=>yt({queryKey:["getCalendarAlmanacsKey"],queryFn:async()=>(await ls({paginate:"false"})).data.map(u("almanac"))}),"getAlmanacs"),{isLoading:s,data:r,refetch:n}=i(),l=f(()=>yt({queryKey:["getCalendarMeetingsSchedulesKey"],queryFn:async()=>(await os({paginate:"false"})).data.map(u("meeting"))}),"getSchedules"),{isLoading:o,data:c,refetch:g}=l();function u(v){return d=>{var S,b;return{id:d.id,title:v==="meeting"?(S=d.meeting)==null?void 0:S.title:d.type,start:p(v==="meeting"?`${d.date} ${d.start_time}`:`${d.start}`),end:p(v==="meeting"?`${d.date} ${d.end_time}`:`${d.end}`),description:v==="meeting"?(b=d.meeting)==null?void 0:b.title:d.purpose,color:m(d,v),textColor:"#fff"}}}f(u,"formatEvent");function p(v){const d=v.split(/[- :\.]/);if(d.length===3)return d[0].length===4?`${d[0]}-${d[1]}-${d[2]}`:`${d[2]}-${d[1]}-${d[0]}`;if(d.length>=5){const[S,b,x,E,R]=d.slice(0,5).map(Number),D=d[5]?d[5].toLowerCase():"";let y=E;return D==="pm"&&E<12?y+=12:D==="am"&&E===12&&(y=0),d[0].length===4?`${d[0]}-${d[1]}-${d[2]}T${String(y).padStart(2,"0")}:${String(R).padStart(2,"0")}`:`${d[2]}-${d[1]}-${d[0]}T${String(y).padStart(2,"0")}:${String(R).padStart(2,"0")}`}return v}f(p,"convertToISOFormat");function m(v,d){var D;const S=new Date,b=new Date(d==="meeting"?`${v.date} ${v.start_time}`:v.start),x={almanac:{base:"bg-warning text-dark",approved:"bg-success text-white",upcoming:"bg-primary text-white",past:"bg-secondary text-white"},meeting:{base:"bg-info text-white",published:"bg-success text-white",unpublished:"bg-warning text-dark",past:"bg-secondary text-white"}},E={published:"published",unpublished:"unpublished"};if(b<S)return x[d].past;const R=d==="meeting"?E[(D=v.meeting)==null?void 0:D.status]:v.status;return x[d][R]||x[d].base}return f(m,"determineColor"),hs([r,c],([v,d])=>{v&&d&&(t.value.events=[...v,...d])},{immediate:!0}),gs(()=>{n(),g()}),(v,d)=>F(e).hasPermission(["view calendar"])?(ee(),te("div",mn,[M("div",vn,[M("div",Sn,[bn,M("button",{class:"float-right",onClick:d[0]||(d[0]=(...S)=>v.toggleWeekends&&v.toggleWeekends(...S))},"toggle weekends")]),En,M("div",yn,[us(F(rs),{options:t.value},{eventContent:fs(S=>[M("div",{class:ps([S.event.extendedProps.color,"p-1 rounded"])},[M("b",null,Et(S.timeText),1),M("i",null,Et(S.event.title),1)],2)]),_:1},8,["options"]),F(s)||F(o)?(ee(),te("div",wn,"Loading...")):ms("",!0)])])])):(ee(),te("div",Dn,Rn))}});const Ln=Es(Cn,[["__scopeId","data-v-2cac0460"]]);export{Ln as default};
