var Ke=Object.defineProperty;var m=(F,b)=>Ke(F,"name",{value:b,configurable:!0});import{d as me,i as xe,j as we,r as g,C as N,P as ue,H as Re,V as Ce,b as Ae,u as o,o as a,c as l,e,F as z,R as W,g as I,t as c,h as r,T as D,Z as Ve,$ as Oe,f as A,l as ae,w as be,W as Fe,X as Pe,_ as fe,U as R,a0 as Qe,a1 as We,a2 as Le,a3 as Ye,k as je,a4 as Ze}from"./main-a9f2cfe9.js";import{b as Xe,f as Je}from"./useStaffRequest-1867f353.js";import{d as et,l as tt,g as st,f as qe,e as Se,h as at,j as ot,k as ce,m as nt,n as lt,o as it,p as dt,q as rt,t as Be,F as Ee,v as ct,w as ut,x as mt}from"./Breadcrumb-7a663afc.js";import{u as De,c as ge,a as S,d as Ne,b as Ie,e as ze,f as He}from"./useUnexpectedErrorHandler-16280be0.js";import{u as _t,a as pt,b as ht,c as bt,d as ft,v as $e,e as vt,f as yt,g as gt,h as xt,i as wt}from"./usePositionRequest-01cf2072.js";import{F as ye}from"./FormInput-139a23bd.js";import{F as kt}from"./FormUpload-276fcdbd.js";import{u as Te}from"./useQuery-e9652e60.js";import{u as $t,a as Mt,F as St,b as Ct,c as Ft}from"./FormSelect-d45e4c1d.js";import{_ as Me}from"./FormDateTimeInput.vue_vue_type_style_index_0_lang-e4584ded.js";import{F as Pt}from"./FormQuillEditor-778f598f.js";import"./index-66c2f00f.js";import"./staff_routes-0c3f8bda.js";import"./folder_routes-53c554e5.js";import"./useQueryClient-1703431f.js";const E=m(F=>(Fe("data-v-455161d6"),F=F(),Pe(),F),"_withScopeId$2"),Dt={key:0},It={class:"card"},Tt={class:"card-header p-3"},Ut={class:"row"},qt={class:"col-12"},Bt={class:"row"},Et={class:"col-lg-9 col-md-8 col-12 mt-2"},Rt={"aria-label":"Breadcrumbs",class:"text-sm overflow-hidden"},At={class:"breadcrumb mb-0 bg-warning"},Vt=["onClick"],Lt={class:"col-lg-3 col-md-4 col-12"},jt={class:"row"},Nt={class:"col-md-6 col-12 mt-2"},zt={class:"dropdown"},Ht={class:"nav-link dropdown-toggle btn btn-secondary btn-block",href:"#",id:"navbarDropdown",type:"button",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},Gt=E(()=>e("span",{class:"text-warning mr-1"},"sort by:",-1)),Kt={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Ot=["onClick"],Qt={class:"col-md-6 col-12 mt-2"},Wt={key:0,class:"dropdown"},Yt={key:0,class:"nav-link dropdown-toggle btn btn-primary btn-block",href:"#",id:"navbarDropdown",type:"button",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},Zt=E(()=>e("i",{class:"fas fa-plus mr-2"},null,-1)),Xt={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Jt=E(()=>e("i",{class:"fas fa-plus"},null,-1)),es=E(()=>e("i",{class:"fas fa-file-upload"},null,-1)),ts={key:0,class:"col-12 mt-3"},ss={class:"input-group input-group-lg"},as=E(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-lg btn-default"},[e("i",{class:"fa fa-search"})])],-1)),os={class:"card-body py-0 px-4 min-h-[300px] relative -top-px z-10"},ns={class:"table-responsive"},ls={class:"table mb-0"},is={class:"w-28"},ds={key:0},rs=["onClick"],cs=["src"],us={key:1},ms=["src"],_s={key:0},ps={class:"font-weight-bold text-primary text-truncate"},hs={class:"text-sm font-weight-bold text-primary"},bs=E(()=>e("span",{class:"text-black"},"Folders",-1)),fs={class:"text-sm font-weight-bold text-primary"},vs=E(()=>e("span",{class:"text-black"},"Files",-1)),ys={key:1},gs={key:0},xs={class:"font-weight-bold text-primary text-truncate"},ws={class:"text-sm font-weight-bold text-primary"},ks={class:"text-black"},$s={class:"w-28"},Ms={key:0},Ss={class:"text-xs text-primary text-truncate"},Cs={key:1},Fs={key:0},Ps={class:"text-xs text-primary text-truncate"},Ds={class:"w-20 text-center"},Is={class:"flex justify-end space-x-2"},Ts={key:0},Us=["onClick"],qs=E(()=>e("i",{class:"far fa-edit"},null,-1)),Bs=[qs],Es={key:1},Rs=["onClick"],As=E(()=>e("i",{class:"far fa-edit"},null,-1)),Vs=[As],Ls=E(()=>e("i",{class:"far fa-eye"},null,-1)),js={class:"flex justify-center col-md-6"},Ns={method:"dialog",class:"modal-box rounded-xl"},zs={class:"font-bold text-lg justify-center flex"},Hs=E(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"âœ•",-1)),Gs={class:"w-full mt-6 p-2"},Ks={class:"font-thin text-sm flex flex-col items-center gap-6"},Os={class:"row"},Qs={key:0,class:"row mt-2 ml-2"},Ws={key:0,class:"row mt-2 ml-2"},Ys={class:"col-md-6"},Zs=["src"],Xs={class:"col-md-6"},Js=E(()=>e("strong",null,"File Name:",-1)),ea={class:"text-bold text-primary"},ta=E(()=>e("strong",null,"File Size:",-1)),sa={class:"text-bold text-primary"},aa=E(()=>e("strong",null,"Type:",-1)),oa={class:"text-bold text-primary"},na=E(()=>e("strong",null,"Last Modified: ",-1)),la={class:"text-bold text-primary"},ia={type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},da={key:1},ra=E(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),ca=[ra],ua=me({__name:"Documents",setup(F){const b=xe(),h=De(),v=we(),C=g("create"),p=g("folder"),T=g("name-asc"),U=g(""),$=g([]),x=v.params.boardId,w=g([{id:"1",name:"Folders"}]),M=g(null),H=g(!1),V=g(null),j=g(null),q=[{id:"name-asc",name:"Name (A-Z)"},{id:"name-desc",name:"Name (Z-A)"},{id:"date-newest",name:"Newest to oldest"},{id:"date-oldest",name:"Oldest to newest"}];function Y(n){T.value=n}m(Y,"applySort");const _=N(()=>{const n=q.find(t=>t.id===T.value);return n?n.name:"Unknown"});function B(n){console.log("folder",n),w.value.push({id:n.id,name:n.name})}m(B,"addToNavigationPath");function _e(n){const t=w.value.slice(0,n+1);if(t.length!==w.value.length){w.value=t;const i=G(w.value.at(-1).id,ie.value);$.value=i?i.children||[]:[]}}m(_e,"navigateTo");function G(n,t){if(!Array.isArray(t))return null;for(const i of t){if(i.id===n)return i;if(i.children&&Array.isArray(i.children)){const s=G(n,i.children);if(s)return s}}return null}m(G,"findFolderById");function ee(n){w.value.at(-1).id!==n.id&&(B(n),console.log("folder",n.children),$.value=n.children||[])}m(ee,"openFolder");function ne(n){let t=0,i=0;return n.children&&n.children.length>0&&n.children.forEach(s=>{s.type==="folder"?t++:s.type==="file"&&i++}),{folderCount:t,fileCount:i}}m(ne,"countChildrenTypes");const pe=m(()=>Te({queryKey:["getBoardFoldersKey",x],queryFn:async()=>(await ft(x,{paginate:"false"})).data}),"getBoardFolders"),{isLoading:le,data:ie,refetch:te}=pe();ue(async()=>{await te()}),Re(ie,n=>{var t;if(n&&n.length>0)if(w.value.length===1&&(n[0],w.value[0].id="1",w.value[0].name="Documents"),w.value.length===1)$.value=n;else{const i=G((t=w.value.at(-1))==null?void 0:t.id,n);$.value=i?i.children||[]:[]}},{immediate:!0});const de=N(()=>U.value?Z.value.filter(n=>n.name.toLowerCase().includes(U.value.toLowerCase())):Z.value),Z=N(()=>{const n=w.value.length>1?$.value:ie.value;return Array.isArray(n)?[...n].sort((t,i)=>{switch(T.value){case"name-asc":return t.name.localeCompare(i.name);case"name-desc":return i.name.localeCompare(t.name);case"date-newest":return new Date(i.created_at).getTime()-new Date(t.created_at).getTime();case"date-oldest":return new Date(t.created_at).getTime()-new Date(i.created_at).getTime();default:return 0}}):[]}),X=ge({name:S().required(),meeting_id:S().required(),board_id:S().required(),folder_id:S().nullable(),parent_id:S(),type:S().oneOf(["folder","file"]).required(),fileupload:Ne().nullable()}),{handleSubmit:he,setErrors:re,setFieldValue:u,values:P}=Ie({validationSchema:X,initialValues:{name:"",meeting_id:x,board_id:x,folder_id:null,parent_id:"",type:"",fileupload:null}}),y=m(n=>{var s;const t=n.target;if(!((s=t.files)!=null&&s.length))return;const i=t.files[0];u("name",i.name),u("type","file")},"updateName"),k=m(n=>{var i;Q(),C.value="create",p.value=n,H.value=!0,(i=j.value)==null||i.showModal(),u("type",n);const t=w.value.at(-1);u("parent_id",t.id),console.log("parent",t)},"openCreateFolderModal"),K=he(async(n,{resetForm:t})=>{var i;try{if(C.value==="create")if(p.value==="folder"){const s={children:[],created_at:null,icon:null,id:null,meeting_id:n.meeting_id,board_id:n.board_id,folder_id:null,name:n.name,parent_id:n.parent_id.toString(),type:n.type,fileupload:null,media:[]};await _t(s,x)}else{const s={children:[],created_at:null,icon:null,id:null,meeting_id:n.meeting_id,board_id:n.board_id,folder_id:null,name:n.name,parent_id:n.parent_id.toString(),type:n.type,fileupload:n.fileupload,media:[]};await pt(s,x)}else if(p.value==="folder"){const s={children:[],created_at:null,folder_id:null,icon:null,id:null,meeting_id:n.meeting_id,board_id:n.board_id,name:n.name,parent_id:n.parent_id.toString(),type:n.type,fileupload:null,media:[]},d=V.value?V.value.toString():null;s.folder_id=d,await ht(s,x,s.folder_id)}else{const s={children:[],created_at:null,folder_id:null,icon:null,id:null,meeting_id:n.meeting_id,board_id:n.board_id,name:n.name,parent_id:n.parent_id.toString(),type:n.type,fileupload:n.fileupload,media:[]},d=V.value?V.value.toString():null;s.folder_id=d,await bt(s,x,s.folder_id)}await te(),Q(),(i=j.value)==null||i.close()}catch(s){s instanceof Ce?re(s.messages):h(s)}}),O=m((n,t)=>{var i;Q(),M.value=n,V.value=n.id.toString(),C.value="edit",p.value=t,H.value=!0,u("name",n.name),u("folder_id",n.id),u("type",t),t==="file"&&(u("fileupload",n.name),lt(n.media[0])),u("parent_id",n.id),console.log("folder.media",n.name),(i=j.value)==null||i.showModal()},"openEditFolderModal"),Q=m(()=>{u("name",""),u("folder_id",null),u("fileupload",""),u("parent_id",""),u("type",""),p.value="folder",C.value="create",H.value=!1,M.value=null,V.value=null,et()},"resetFolder");return(n,t)=>{const i=Ae("router-link");return o(b).hasPermission(["view folders"])?(a(),l("div",Dt,[e("div",It,[e("div",Tt,[e("div",Ut,[e("div",qt,[e("div",Bt,[e("div",Et,[e("nav",Rt,[e("ol",At,[(a(!0),l(z,null,W(w.value,(s,d)=>(a(),l("li",{key:s.id,class:"breadcrumb-item"},[e("a",{href:"#",class:"text-gray-800 font-medium",onClick:D(f=>_e(d),["prevent"])},c(s.name),9,Vt)]))),128))])])]),e("div",Lt,[e("div",jt,[e("div",Nt,[e("div",zt,[e("button",Ht,[Gt,I(c(_.value),1)]),e("div",Kt,[(a(),l(z,null,W(q,s=>e("a",{key:s.id,href:"#",class:"dropdown-item",onClick:D(d=>Y(s.id),["prevent"])},c(s.name),9,Ot)),64))])])]),e("div",Qt,[w.value.length>1?(a(),l("div",Wt,[o(b).hasPermission(["create folders","upload documents","create dropzone"])?(a(),l("button",Yt,[Zt,I(" New ")])):r("",!0),e("div",Xt,[o(b).hasPermission(["create folders","create dropzone"])?(a(),l("a",{key:0,href:"#",onClick:t[0]||(t[0]=D(s=>k("folder"),["prevent"])),class:"dropdown-item"},[Jt,I(" New folder ")])):r("",!0),o(b).hasPermission(["upload documents"])?(a(),l("a",{key:1,href:"#",onClick:t[1]||(t[1]=D(s=>k("file"),["prevent"])),class:"dropdown-item"},[es,I(" Upload a file ")])):r("",!0)])])):r("",!0)])])])])]),o(b).hasPermission(["search documents"])?(a(),l("div",ts,[e("div",ss,[Ve(e("input",{type:"search",class:"form-control form-control-lg",placeholder:"Type your keywords here","onUpdate:modelValue":t[2]||(t[2]=s=>U.value=s)},null,512),[[Oe,U.value]]),as])])):r("",!0)])]),e("div",os,[e("div",ns,[e("table",ls,[e("tbody",null,[(a(!0),l(z,null,W(de.value,s=>{var d,f,se,ke;return a(),l("tr",{key:s.id,class:"group bg-white hover:bg-gray-100 cursor-pointer"},[e("td",is,[s.type==="folder"?(a(),l("div",ds,[e("div",{onClick:D(L=>ee(s),["prevent"])},[e("img",{src:o(tt)(s.icon),class:"img-fluid",alt:"Folder Icon"},null,8,cs)],8,rs)])):(a(),l("div",us,[o(b).hasPermission(["view documents"])?(a(),ae(i,{key:0,to:{name:"BoardMediaDetails",params:{boardId:o(x),folderId:s.id,mediaId:(d=s==null?void 0:s.media[0])==null?void 0:d.uuid}},class:"d-block text-success hover:text-green-700 transition ease-in-out"},{default:be(()=>{var L;return[e("img",{src:o(st)((L=s==null?void 0:s.media[0])==null?void 0:L.mime_type),class:"img-fluid",alt:"File Icon"},null,8,ms)]}),_:2},1032,["to"])):r("",!0)]))]),e("td",null,[s.type==="folder"?(a(),l("div",_s,[e("p",ps,c(s.name),1),e("p",hs,[I(c(ne(s).folderCount)+": ",1),bs]),e("p",fs,[I(c(ne(s).fileCount)+": ",1),vs])])):(a(),l("div",ys,[o(b).hasPermission(["view documents"])?(a(),l("div",gs,[e("p",xs,c((f=s==null?void 0:s.media[0])==null?void 0:f.file_name),1),e("p",ws,[I(" Size: "),e("span",ks,c(o(qe)((se=s==null?void 0:s.media[0])==null?void 0:se.size)),1)])])):r("",!0)]))]),e("td",$s,[s.type==="folder"?(a(),l("div",Ms,[e("p",Ss,c(o(Se)(s.created_at,"")),1)])):(a(),l("div",Cs,[o(b).hasPermission(["view documents"])?(a(),l("div",Fs,[e("p",Ps,c(o(Se)(s.created_at,"")),1)])):r("",!0)]))]),e("td",Ds,[e("div",Is,[s.type==="folder"?(a(),l("div",Ts,[o(b).hasPermission(["edit folders"])?(a(),l("a",{key:0,href:"#",onClick:D(L=>O(s,"folder"),["prevent"]),class:"text-warning hover:text-blue-700 transition ease-in-out"},Bs,8,Us)):r("",!0)])):(a(),l("div",Es,[o(b).hasPermission(["edit documents"])?(a(),l("a",{key:0,href:"#",onClick:D(L=>O(s,"file"),["prevent"]),class:"text-warning hover:text-blue-700 transition ease-in-out"},Vs,8,Rs)):r("",!0),o(b).hasPermission(["view documents"])&&s.type==="file"?(a(),ae(i,{key:1,to:{name:"BoardMediaDetails",params:{boardId:o(x),folderId:s.id,mediaId:(ke=s==null?void 0:s.media[0])==null?void 0:ke.uuid}},class:"text-success hover:text-green-700 transition ease-in-out"},{default:be(()=>[Ls]),_:2},1032,["to"])):r("",!0)]))])])])}),128))])])])])]),e("div",js,[e("dialog",{id:"foldermodal",class:"modal",ref_key:"FolderModal",ref:j},[e("form",Ns,[e("h3",zs,c(C.value==="create"?p.value==="folder"?"Create Folder":"Upload File":p.value==="folder"?"Update Folder":"Update File"),1),Hs,e("div",Gs,[e("div",Ks,[e("form",{novalidate:"",onSubmit:t[4]||(t[4]=D((...s)=>o(K)&&o(K)(...s),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[e("div",Os,[A(ye,{labeled:!0,label:p.value==="folder"?"Folder name":"Upload File name",name:"name",class:"col-md-12 w-full text-sm text-white tracking-wide",placeholder:p.value==="folder"?"Folder name":"Upload File name",type:"text"},null,8,["label","placeholder"]),p.value==="file"?(a(),l("div",Qs,[A(kt,{labeled:!0,label:"Upload Cover Image for the Board",name:"fileupload",class:"w-full text-sm text-white tracking-wide col-md-12",placeholder:"Enter Cover Image of the Board",type:"file",accept:o(at).join(", "),onChange:t[3]||(t[3]=s=>{o(ot)(s),y(s)})},null,8,["accept"]),o(P).fileupload?(a(),l("div",Ws,[e("div",Ys,[o(ce).previewUrl?(a(),l("img",{key:0,src:o(ce).previewUrl,alt:"File Preview",class:"file_attachment"},null,8,Zs)):r("",!0)]),e("div",Xs,[e("p",null,[Js,e("span",ea,c(o(ce).name),1)]),e("p",null,[ta,e("span",sa,c(o(qe)(o(ce).size)),1)]),e("p",null,[aa,e("span",oa,c(o(ce).type),1)]),e("p",null,[na,e("span",la,c(o(nt)(o(ce).lastModifiedDate)),1)])])])):r("",!0)])):r("",!0)]),e("button",ia,c(C.value==="create"?p.value==="folder"?"Create Folder":"Upload File":p.value==="folder"?"Update Folder":"Update File"),1)],32)])])])],512)])])):(a(),l("div",da,ca))}}});const ma=fe(ua,[["__scopeId","data-v-455161d6"]]),_a=["for"],pa={class:"form-group clearfix"},ha=["id","name","value","checked"],ba=["for"],fa={key:0,class:"message text-error"},va=me({__name:"FormRadioInput",props:{label:{},name:{},options:{},inline:{type:Boolean,default:!0},checked:{type:[String,Number,Boolean],default:""}},emits:["update:modelValue"],setup(F,{emit:b}){const h=F,{errorMessage:v,value:C}=ze(h.name),p=b;return Re(C,T=>{p("update:modelValue",T)}),ue(()=>{h.checked&&(C.value=h.checked)}),(T,U)=>(a(),l("div",{class:R(["field-container",{error:!!o(v)}])},[e("label",{for:h.name,class:"text-xs uppercase font-medium"},c(h.label),9,_a),e("div",pa,[(a(!0),l(z,null,W(h.options,($,x)=>(a(),l("div",{key:x,class:"icheck-primary d-inline mr-2"},[Ve(e("input",{type:"radio",id:`${h.name}-${x}`,name:h.name,"onUpdate:modelValue":U[0]||(U[0]=w=>We(C)?C.value=w:null),value:$.value,checked:h.checked===$.value,class:"mr-2"},null,8,ha),[[Qe,o(C)]]),e("label",{for:`${h.name}-${x}`},c($.name),9,ba)]))),128))]),o(v)?(a(),l("div",fa,c(o(v)),1)):r("",!0)],2))}});const ya=fe(va,[["__scopeId","data-v-ceacc280"]]),oe=m(F=>(Fe("data-v-ebd16bc9"),F=F(),Pe(),F),"_withScopeId$1"),ga={class:"row"},xa={class:"col-md-12"},wa={class:"card card-widget"},ka={class:"card-header"},$a=oe(()=>e("h1",{class:"h2 mb-2 lg:mb-0"},"Meetings",-1)),Ma={class:"card-tools"},Sa=oe(()=>e("i",{class:"far fa fa-plus mr-2"},null,-1)),Ca=[Sa],Fa={key:0,class:"card-body"},Pa={key:0,class:"products-list product-list-in-card pl-2 pr-2"},Da={class:"product-img meeting-custom-size mr-2"},Ia={key:0,class:"calendar-icon w-full flex flex-col items-center justify-center mt-1 calendaheight"},Ta={class:"month customonth"},Ua={class:"day font-medium customday"},qa={class:"year font-medium customyear"},Ba=oe(()=>e("div",null,[e("span",{class:"text-danger font-bold ml-2 mr-2"}," Upcoming ")],-1)),Ea={class:"product-info"},Ra={class:"text-primary text-bold"},Aa={key:0,class:"badge float-right bg-white"},Va=["onClick"],La={class:"badge float-right bg-white"},ja=oe(()=>e("i",{class:"far fa-eye"},null,-1)),Na={class:"badge float-right bg-white"},za=["onClick"],Ha=oe(()=>e("i",{class:"far fa-edit"},null,-1)),Ga=[Ha],Ka={key:1,class:"product-description"},Oa=["innerHTML"],Qa={key:2,class:"row border-top border-bottom border-warning d-flex justify-content-between align-items-center bg-warning"},Wa={class:"text-primary bg-primary font-bold ml-2 mr-2"},Ya={class:"text-primary font-bold ml-2 mr-2"},Za={key:0},Xa=["onClick"],Ja={key:3,class:"text-bold text-red"},eo={key:4,class:"text-bold text-red"},to={class:"text-primary font-bold ml-2 mr-2"},so={class:"text-primary font-bold ml-2 mr-2"},ao=["onClick"],oo=oe(()=>e("i",{class:"far fa-eye"},null,-1)),no={key:1},lo={class:"flex justify-center col-md-6"},io={method:"dialog",class:"modal-box rounded-xl"},ro={class:"font-bold text-lg justify-center flex"},co=oe(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"âœ•",-1)),uo={class:"grid grid-cols-3 md:grid-cols-3 gap-2 p-2"},mo={class:"col-span-3"},_o={key:0,class:"flex flex-wrap -mx-2 mt-2"},po={class:"w-full md:w-1/2 px-1 md:px-2"},ho={class:"w-full md:w-1/2 px-1 md:px-2"},bo={key:1,class:"flex flex-wrap -mx-2 mt-2"},fo={class:"w-full md:w-1/2 px-1 md:px-2"},vo={key:2,class:"flex flex-wrap -mx-2 mt-2"},yo={key:3,class:"flex flex-wrap -mx-2 mt-2"},go={class:"w-full md:w-1/3 px-1 md:px-2"},xo={class:"w-full md:w-1/3 px-1 md:px-2"},wo={class:"w-full md:w-1/3 px-1 md:px-2"},ko=["onClick"],$o={type:"submit",class:"btn btn-primary btn-md w-full mt-6"},Mo=me({__name:"HomeDashboard",setup(F){const b=xe(),h=g(!1),v=g("create"),C=g(null),p=g(null);g(null);const T=De(),U=g(1),$=g(15),x=g(),M=we().params.boardId,H=g(""),V=ge({id:S().required(),date:S().required(),start_time:S().required(),end_time:S().required(),status:S().nullable(),heldstatus:S().nullable(),meeting_id:S().nullable()}),j=ge({title:S().required(),conference:S().required(),location:S().required(),link:S().nullable(),description:S().required(),status:S().required(),board_id:S().required(),type:S().required(),schedules:He().of(V).required()}),{handleSubmit:q,setErrors:Y,setFieldValue:_,values:B}=Ie({validationSchema:j,initialValues:{title:"",conference:"",location:"",description:"",link:null,board_id:M,status:"unpublished",type:"single",schedules:[{id:$e(),date:"",start_time:"",end_time:"",status:null,heldstatus:null,meeting_id:null}]}}),_e=m(()=>{var t;X(),v.value="create",h.value=!0,(t=p.value)==null||t.showModal()},"openCreateMeetingModal"),G=m(t=>{var s;X(),C.value=t,_("title",t.title),_("conference",t.conference),_("location",t.location),_("description",t.description),_("type",t.type),_("status",t.status),_("schedules",t.schedules);const i={id:t.nearestSchedule.id,date:t.nearestSchedule.date,start_time:t.nearestSchedule.start_time,end_time:t.nearestSchedule.end_time,status:t.nearestSchedule.status,heldstatus:t.nearestSchedule.heldstatus,meeting_id:t.nearestSchedule.meeting_id};_("schedules",[...B.schedules,i]),t.conference==="Custom 3rd party Links"&&(le(t.conference),_("link",t.link)),console.log("values",B),v.value="edit",h.value=!0,(s=p.value)==null||s.showModal()},"openEditMeetingModal"),ee=m((t,i)=>{var d;X(),C.value=t,_("title",t.title),_("conference",t.conference),_("location",t.location),_("description",t.description),_("type",t.type),_("status",t.status),t.conference==="Custom 3rd party Links"&&(le(t.conference),_("link",t.link));const s={id:i.id,date:i.date,start_time:i.start_time,end_time:i.end_time,status:i.status,heldstatus:i.heldstatus,meeting_id:i.meeting_id};_("schedules",[s]),console.log("values",B),v.value="schedule",h.value=!0,(d=p.value)==null||d.showModal()},"openEditScheduleMeetingModal"),ne=[{name:"In Person",value:"No Vedio (Meeting in Person)"},{name:"3rd party",value:"Custom 3rd party Links"}],pe=[{name:"Single",value:"single"},{name:"Find Date",value:"manual"}],le=m(t=>{H.value=t},"handleConferenceTypeChange");ue(async()=>{}),N(()=>de);const ie=N(()=>ne),te=N(()=>pe),de=m(t=>Te({queryKey:["getBoardMeetingsKey",U.value,$.value,t],queryFn:async()=>{const i=await Ct({page:U.value,perPage:$.value,Id:t});return x.value=i.data.meta,i.data.data}}),"getMeetings"),Z=q(async t=>{var i,s,d;console.log("values",t),console.log("setErrors",Y);try{v.value==="create"?await $t(t):(i=C.value)!=null&&i.id&&await Mt(t,(s=C.value)==null?void 0:s.id),await y(),X(),h.value=!1,(d=p.value)==null||d.close()}catch(f){f instanceof Ce?Y(f.messages):T(f)}});function X(){_("title",""),_("conference",""),_("location",""),_("description",""),_("link",null),_("type","single"),_("status","unpublished"),_("schedules",[{id:$e(),date:"",start_time:"",end_time:"",status:null,heldstatus:null,meeting_id:null}])}m(X,"reseting");const he=m(()=>{Array.isArray(B.schedules)||(console.error("Invalid state: values.schedules is not an array."),_("schedules",[]));const t={id:$e(),date:"",start_time:"",end_time:"",status:null,heldstatus:null,meeting_id:null};_("schedules",[...B.schedules,t])},"addEmptySchedule"),re=m(t=>{if(B.schedules.length===1){Ye({title:"Error",text:"You need at least one date to schedule.",type:"error"});return}const i=B.schedules.filter((s,d)=>d!==t);_("schedules",i)},"removeSchedule"),{isLoading:u,data:P,refetch:y}=de(M),k=g("published"),K=N(()=>{if(!P.value)return[];const t=new Date;return P.value.filter(s=>k.value==="past"?new Date(s.created_at)<t:s.status.toLowerCase()===k.value).map(s=>{if(s.schedules&&s.schedules.length>0){const d=[...s.schedules].sort((L,Ue)=>{const ve=new Date(L.date.split("-").reverse().join("-")),Ge=new Date(Ue.date.split("-").reverse().join("-"));return ve.getTime()-Ge.getTime()});let f=d[0],se=1/0;return d.forEach(L=>{const ve=new Date(L.date.split("-").reverse().join("-")).getTime()-t.getTime();Math.abs(ve)<Math.abs(se)&&(se=ve,f=L)}),{...s,nearestSchedule:f,schedules:d.filter(L=>L.id!==f.id)}}else return s})}),O=m(t=>{k.value=t},"filterMeetings"),Q=m(t=>{switch(t){case"scheduled":return"text-primary";case"held":return"text-success";case"cancelled":return"text-danger";case"postponed":return"text-warning";default:return""}},"getHeldStatusClass"),n=m(async t=>{await Ft(t),await y()},"onPublish");return(t,i)=>{const s=Ae("router-link");return a(),l(z,null,[e("div",ga,[e("div",xa,[e("div",wa,[e("div",ka,[$a,e("div",Ma,[e("button",{type:"button",class:R(["btn btn-tool",{"btn-info":k.value==="published"}]),onClick:i[0]||(i[0]=d=>O("published"))}," Published ",2),e("button",{type:"button",class:R(["btn btn-tool",{"btn-info":k.value==="unpublished"}]),onClick:i[1]||(i[1]=d=>O("unpublished"))}," UnPublished ",2),e("button",{type:"button",class:R(["btn btn-tool",{"btn-info":k.value==="past"}]),onClick:i[2]||(i[2]=d=>O("past"))}," Past ",2),o(b).hasPermission(["create meeting"])?(a(),l("button",{key:0,type:"button",onClick:D(_e,["prevent"]),class:"btn btn-tool"},Ca)):r("",!0)])]),o(b).hasPermission(["view meeting"])?(a(),l("div",Fa,[K.value.length>0?(a(),l("ul",Pa,[(a(!0),l(z,null,W(K.value,d=>(a(),l("li",{class:"item",key:d.id},[e("div",Da,[d!=null&&d.nearestSchedule?(a(),l("div",Ia,[e("div",Ta,c(o(it)(d.nearestSchedule.date)),1),e("div",Ua,[e("span",null,c(o(dt)(d.nearestSchedule.date)),1)]),e("div",qa,[e("span",null,c(o(rt)(d.nearestSchedule.date)),1)])])):r("",!0),Ba]),e("div",Ea,[o(b).hasPermission(["view meeting"])?(a(),ae(s,{key:0,to:{name:"BoardMeetingDetails",params:{boardId:o(M),meetingId:d.id,scheduleId:d.nearestSchedule.id}},class:"product-title"},{default:be(()=>[I(" Meeting: "),e("span",Ra,c(d.title),1),k.value==="unpublished"?(a(),l("span",Aa,[o(b).hasPermission(["publish meeting"])?(a(),l("a",{key:0,href:"",onClick:D(f=>n(d.id),["prevent"]),class:"text-blue-500 hover:text-blue-700 transition duration-150 ease-in-out"}," Publish ",8,Va)):r("",!0)])):r("",!0),e("span",La,[o(b).hasPermission(["view meeting"])?(a(),ae(s,{key:0,to:{name:"BoardMeetingDetails",params:{boardId:o(M),meetingId:d.id,scheduleId:d.nearestSchedule.id}},class:"text-green-500 hover:text-green-700 transition duration-150 ease-in-out"},{default:be(()=>[ja]),_:2},1032,["to"])):r("",!0)]),e("span",Na,[o(b).hasPermission(["edit meeting"])?(a(),l("a",{key:0,href:"",onClick:D(f=>G(d),["prevent"]),class:"text-blue-500 hover:text-blue-700 transition duration-150 ease-in-out"},Ga,8,za)):r("",!0)])]),_:2},1032,["to"])):r("",!0),o(b).hasPermission(["edit meeting"])?(a(),l("span",Ka,[I(" Description: "),e("span",{class:"text-primary text-bold",innerHTML:d.description},null,8,Oa)])):r("",!0),d!=null&&d.nearestSchedule?(a(),l("div",Qa,[e("div",null,[e("span",Wa," Upcoming "+c(o(Be)(d.nearestSchedule.date)),1),I(" || When: "),e("span",Ya,c(o(Ee)(d.nearestSchedule.date)),1),I(" || Held Status: "),e("span",{class:R([Q(d.nearestSchedule.heldstatus),"font-bold ml-2 mr-2"])},c(d.nearestSchedule.heldstatus),3)]),d!=null&&d.nearestSchedule?(a(),l("span",Za,[d.nearestSchedule.heldstatus==="scheduled"?(a(),l("button",{key:0,class:"btn btn-sm btn-warning font-bold ml-2 mr-2 mt-1 mb-1",onClick:D(f=>ee(d,d.nearestSchedule),["prevent"])}," Postpone ",8,Xa)):r("",!0)])):r("",!0)])):r("",!0),d.schedules.length?(a(),l("div",Ja,"Other Schedules")):(a(),l("div",eo,"no Other Recuring Schdedules")),(a(!0),l(z,null,W(d.schedules,f=>(a(),l("div",{class:R(["row","border-top","border-bottom","border-warning","d-flex","justify-content-between","align-items-center",o(ct)(f.date)?"bg-gray":""]),key:f.id},[e("div",null,[I(" Day: "),e("span",to,c(o(Be)(f.date)),1),I(" || When: "),e("span",so,c(o(Ee)(f.date)),1),I(" || Held Status: "),e("span",{class:R([Q(f.heldstatus),"font-bold ml-2 mr-2"])},c(f.heldstatus),3)]),e("span",null,[f.heldstatus==="scheduled"&&o(b).hasPermission(["edit meeting"])?(a(),l("button",{key:0,class:"btn btn-sm btn-warning font-bold ml-2 mr-2 mt-1 mb-1",onClick:D(se=>ee(d,f),["prevent"])}," Postpone ",8,ao)):r("",!0),o(b).hasPermission(["view meeting"])?(a(),ae(s,{key:1,to:{name:"BoardMeetingDetails",params:{boardId:o(M),meetingId:d.id,scheduleId:f.id}},class:"mr-2 hover:text-info transition duration-150 ease-in-out"},{default:be(()=>[oo]),_:2},1032,["to"])):r("",!0)])],2))),128))])]))),128))])):(a(),l("div",no," No meetings found for "+c(k.value),1))])):r("",!0)])])]),e("div",lo,[e("dialog",{id:"meetingmodal",class:"modal",ref_key:"MeetingModal",ref:p},[e("form",io,[e("h3",ro,c(v.value=="create"?"Create Meeting":"Edit Meeting"),1),co,e("div",{class:"overflow-auto p-4",style:Le([{"max-height":"80vh"},v.value=="schedule"?"height:500px;":""])},[e("div",uo,[e("div",mo,[e("form",{novalidate:"",onSubmit:i[3]||(i[3]=D((...d)=>o(Z)&&o(Z)(...d),["prevent"])),class:""},[v.value=="create"||v.value=="edit"?(a(),l("div",_o,[e("div",po,[A(ye,{labeled:!0,label:"Meeting Title",name:"title",placeholder:"Enter Meeting Title",type:"text"})]),e("div",ho,[A(St,{labeled:!0,name:"conference",label:"Select Meeting Type",placeholder:"Select Meeting Type",options:ie.value,onSelectedItem:le},null,8,["options"])])])):r("",!0),v.value=="create"||v.value=="edit"?(a(),l("div",bo,[e("div",fo,[H.value==="Custom 3rd party Links"?(a(),ae(ye,{key:0,labeled:!0,label:"Meeting Link",name:"link",placeholder:"Enter Third Party Link",type:"text"})):r("",!0)]),e("div",{class:R(["w-full px-1 md:px-2",H.value==="Custom 3rd party Links"?"md:w-1/2":""])},[A(ye,{labeled:!0,label:"Meeting Location",name:"location",placeholder:"e.g 'Conference Room 6'",type:"text"})],2)])):r("",!0),v.value=="create"||v.value=="edit"?(a(),l("div",vo,[v.value=="create"||v.value=="edit"?(a(),ae(Pt,{key:0,label:"Meeting Description",name:"description",theme:"snow",placeholder:"Enter Meeting Description",toolbar:"full",contentType:"html",class:"col-span-3"})):r("",!0)])):r("",!0),v.value=="create"||v.value=="edit"?(a(),l("div",yo,[A(ya,{name:"type",label:"Meeting Schedule Type",placeholder:"Select Meeting Schedule Type",inline:!0,options:te.value,checked:o(B).type},null,8,["options","checked"])])):r("",!0),o(B).schedules?(a(!0),l(z,{key:4},W(o(B).schedules,(d,f)=>(a(),l("div",{class:"flex flex-wrap -mx-2 mt-2 relative",key:f},[e("div",go,[A(Me,{label:"Meeting Date "+(f+1),name:"schedules["+f+"].date",mode:"date-picker",modeltype:"dd-MM-yyyy",enabletimepicker:!1,placeholder:"Meeting Date"},null,8,["label","name"])]),e("div",xo,[A(Me,{label:"Meeting Start Time "+(f+1),name:"schedules["+f+"].start_time",mode:"time-picker",modeltype:"h:mm bbbb",is24:!1,enabletimepicker:!0,placeholder:"Select Start Time"},null,8,["label","name"])]),e("div",wo,[A(Me,{label:"Meeting End Time "+(f+1),name:"schedules["+f+"].end_time",mode:"time-picker",modeltype:"h:mm bbbb",is24:!1,enabletimepicker:!0,placeholder:"Select End Time"},null,8,["label","name"])]),v.value!=="schedule"?(a(),l("button",{key:0,type:"button",class:"absolute top-0 right-0 mt-2 mr-2 text-red-600 font-bold",onClick:D(se=>re(f),["prevent"])}," âœ• ",8,ko)):r("",!0)]))),128)):r("",!0),o(B).type==="manual"&&v.value!=="schedule"?(a(),l("button",{key:5,type:"button",class:"btn btn-primary mt-4",onClick:he}," Add Another Data ")):r("",!0),e("button",$o,c(v.value==="create"?"Create Meeting":"Edit Meeting"),1)],32)])])],4)])],512)])],64)}}});const So=fe(Mo,[["__scopeId","data-v-ebd16bc9"]]),Co={class:"role-container w-100 d-flex justify-content-center"},Fo=["aria-expanded"],Po={key:0,class:"dropdown-menu show justify-content","aria-labelledby":"role-status"},Do=["onClick"],Io={key:1,class:"text-center"},To=me({__name:"MemberPosition",props:{member:{},positions:{},disableRemotePosition:{}},emits:["position-updated"],setup(F,{emit:b}){const h=F,v=b,C=g(null),p=g(!1),T=m(M=>{M.stopPropagation(),p.value=!p.value},"toggleDropdown"),U=m(M=>{v("position-updated",{memberId:h.member.id,positionId:M.id}),p.value=!1},"updateRole"),$=N(()=>{var M;return`bg-${(M=h.member)==null?void 0:M.position.name.toLowerCase()} text-white`}),x=N(()=>{var M;return(M=h.member)==null?void 0:M.position.name}),w=N(()=>h.positions);return(M,H)=>{var V,j,q,Y;return a(),l("div",Co,[x.value?(a(),l("div",{key:0,class:"dropdown",ref_key:"dropdownRef",ref:C},[e("button",{class:R(["btn btn-primary dropdown-toggle text-truncate w-100",$.value]),type:"button",onClick:T,"aria-haspopup":"true","aria-expanded":p.value},[e("i",{class:R(["mr-2 fa "+((V=h.member)==null?void 0:V.position.icon),"mr-2"])},null,2),I(" "+c((j=h.member)==null?void 0:j.position.name),1)],10,Fo),p.value?(a(),l("ul",Po,[(a(!0),l(z,null,W(w.value,_=>(a(),l("li",{key:_.name},[e("a",{href:"#",class:"dropdown-item",onClick:D(B=>U(_),["prevent"])},[e("i",{class:R(["mr-2 fa "+_.icon,"mr-2"])},null,2),I(" "+c(_.name),1)],8,Do)]))),128))])):r("",!0)],512)):(a(),l("div",Io,[e("i",{class:R(["mr-2 fa "+((q=h.member)==null?void 0:q.position.icon),"mr-2"])},null,2),I(" "+c((Y=h.member)==null?void 0:Y.position.name),1)]))])}}});const Uo=fe(To,[["__scopeId","data-v-c85c72a2"]]),J=m(F=>(Fe("data-v-acf65ab6"),F=F(),Pe(),F),"_withScopeId"),qo={class:"card"},Bo={class:"card-header flex items-center"},Eo=J(()=>e("h2",{class:"card-header-title h3"},"Board Members",-1)),Ro={class:"ml-auto flex items-center space-x-2"},Ao={class:"container-fluid"},Vo={class:"row"},Lo={class:"card card-outline card-primary h-100"},jo={class:"card-body box-profile"},No={class:"text-center"},zo={class:"profile-username text-center text-primary"},Ho=["onClick"],Go=["onClick"],Ko=J(()=>e("i",{class:"far fa-eye"},null,-1)),Oo=[Ko],Qo={class:"text-muted text-center text-bold"},Wo={key:0,class:"mt-3"},Yo=J(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Position ",-1)),Zo={class:"text-center"},Xo={key:1,class:"mt-3"},Jo=J(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Position ",-1)),en={class:"text-center"},tn={class:"mt-3"},sn=J(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),an={class:"text-center text-primary text-small"},on={class:"flex justify-center col-md-6"},nn={method:"dialog",class:"modal-box rounded-xl"},ln=J(()=>e("h3",{class:"font-bold text-lg justify-center flex"},c("Add Members"),-1)),dn=J(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"âœ•",-1)),rn={class:"w-full mt-6 p-2"},cn={class:"font-thin text-sm flex flex-col items-center gap-6"},un={key:0,class:"message"},mn=J(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},c("Add Members"),-1)),_n=me({__name:"Members",setup(F){const b=xe(),h=we(),v=je(),C=De(),p=g("create"),T=h.params.boardId,U=g(!1),$=g(null),x=g([]),w=g([]),{errorMessage:M}=ze("assignees"),H=ge({id:S().nullable(),position_id:S().nullable(),board_id:Ne().required(),members:He().of(S()).nullable()}),{handleSubmit:V,setErrors:j,setFieldValue:q,values:Y}=Ie({validationSchema:H,initialValues:{id:"",position_id:"",board_id:T,members:[]}}),_=m(()=>{q("members",x.value)},"selectedUsers"),B=m(()=>{q("members",x.value)},"removeselectedUsers"),_e=m(u=>{var y;const P=u.members.map(k=>k.user.id.toString());x.value=P,q("members",x.value),p.value="edit",U.value=!0,(y=$.value)==null||y.showModal()},"openEditMembersModal"),G=V(async(u,{resetForm:P})=>{var y;try{q("members",x.value);const k={board_id:u.board_id,members:u.members};if(p.value==="create")await vt(k,T);else if(p.value==="edit")await yt(k,T);else if(p.value==="position"){const K={id:u.id,position_id:u.position_id};await gt(K,T)}await de(),ee(),(y=$.value)==null||y.close()}catch(k){k instanceof Ce?j(k.messages):C(k)}}),ee=m(()=>{p.value="create",U.value=!1,x.value=[],q("members",[]),q("position_id","")},"reset"),ne=N(()=>{var P;const u=[];return w.value&&((P=w.value)==null?void 0:P.length)>0&&w.value.reduce((y,k)=>(y.push({id:k.id,name:`${k.full_name}`}),y),u),u}),pe=m(async()=>{const u=await Xe({paginate:"false"});w.value=u.data},"getUsers");ue(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Members"})),pe()});const le=m(()=>Te({queryKey:["getBoardMembersKey",T],queryFn:async()=>(await wt(T,{paginate:"false"})).data}),"getBoardMembers"),{isLoading:ie,data:te,refetch:de}=le(),Z=g([]),X=m(async()=>{const u=await xt({paginate:"false"});Z.value=u.data},"getPositions");ue(async()=>{await X()});const he=m(u=>{ee(),p.value="position",q("id",u.memberId),q("position_id",u.positionId),G()},"handlePositionUpdated"),re=m(u=>{v.push({name:"ProfileDetails",params:{userId:u.id,profileId:u.profile.id}})},"openUserProfile");return(u,P)=>(a(),l(z,null,[e("div",qo,[e("div",Bo,[Eo,e("div",Ro,[e("button",{class:"btn btn-secondary btn-sm",onClick:P[0]||(P[0]=D(y=>_e({members:o(te)}),["prevent"]))}," Update Members ")])]),e("div",Ao,[e("div",Vo,[(a(!0),l(z,null,W(o(te),(y,k)=>(a(),l("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:k},[e("div",Lo,[e("div",jo,[e("div",No,[e("h3",zo,[e("a",{href:"",onClick:D(K=>{var O,Q;return((Q=(O=o(b))==null?void 0:O.user)==null?void 0:Q.id)===y.user.id?re(y.user):""},["prevent"])},c(y.user.full_name),9,Ho),o(b).hasPermission(["view board member profile"])?(a(),l("button",{key:0,type:"button",onClick:D(K=>re(y.user),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},Oo,8,Go)):r("",!0)]),e("p",Qo,c(y.position.name),1)]),o(b).hasPermission(["assign board position"])?(a(),l("div",Wo,[Yo,e("div",Zo,[A(Uo,{member:y,positions:Z.value,disableRemotePosition:0,onPositionUpdated:he},null,8,["member","positions"])])])):(a(),l("div",Xo,[Jo,e("div",en,[e("i",{class:R(["mr-2 fa "+y.position.icon,"mr-2"])},null,2),I(" "+c(y.position.name),1)])])),e("div",tn,[sn,e("p",an,c(o(Se)(y.updated_at,null)),1)])])])]))),128))])])]),I("> "),e("div",on,[e("dialog",{id:"membersmodal",class:"modal",ref_key:"membersmodal",ref:$},[e("form",nn,[ln,dn,e("div",rn,[e("div",cn,[e("form",{novalidate:"",onSubmit:P[4]||(P[4]=D((...y)=>o(G)&&o(G)(...y),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[e("div",{class:R(["multiselect-container",{error:!!o(M)}])},[A(o(Ze),{id:"members",modelValue:x.value,"onUpdate:modelValue":P[1]||(P[1]=y=>x.value=y),mode:"tags",placeholder:"Choose your stack","close-on-select":!1,"filter-results":!1,"min-chars":1,"resolve-on-load":!1,delay:0,searchable:!0,options:ne.value,valueProp:"id",trackBy:"id",label:"name",class:R(["multiselect-container",{error:!!o(M)}]),onSelect:P[2]||(P[2]=y=>_()),onDeselect:P[3]||(P[3]=y=>B())},null,8,["modelValue","options","class"]),o(M)?(a(),l("div",un,c(o(M)),1)):r("",!0)],2),mn],32)])])])],512)])],64))}});const pn=fe(_n,[["__scopeId","data-v-acf65ab6"]]),hn={class:"col-md-12"},bn={key:0,class:"card card-widget widget-user shadow-lg"},fn=e("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)"}},null,-1),vn=[fn],yn={class:"card-footer"},gn={class:""},xn={class:"widget-user-image",style:{left:"4%","margin-left":"-45px",position:"absolute",top:"190px"}},wn=["src"],kn={class:"ml-3 flex-1",style:{"margin-top":"-28px"}},$n=e("i",{class:"fas fa-chevron-left fa-xs"},null,-1),Mn={class:"h2 mb-2 lg:mb-0",style:{"margin-left":"150px"}},Sn={class:"card-outline card-outline-tabs"},Cn={class:"card-header p-0 border-bottom-0"},Fn={class:"nav nav-tabs",id:"custom-tabs-four-tab",role:"tablist"},Pn=e("li",{class:"nav-item"},[e("a",{class:"nav-link active",id:"custom-tabs-four-home-tab","data-toggle":"pill",href:"#custom-tabs-four-home",role:"tab","aria-controls":"custom-tabs-four-home","aria-selected":"true"},"Meetings")],-1),Dn={key:0,class:"nav-item"},In=e("a",{class:"nav-link",id:"custom-tabs-four-documents-tab","data-toggle":"pill",href:"#custom-tabs-four-documents",role:"tab","aria-controls":"custom-tabs-four-documents","aria-selected":"false"}," Documents ",-1),Tn=[In],Un=e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"custom-tabs-four-discussions-tab","data-toggle":"pill",href:"#custom-tabs-four-discussions",role:"tab","aria-controls":"custom-tabs-four-discussions","aria-selected":"false"}," Discussions ")],-1),qn=e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"custom-tabs-four-tasks-tab","data-toggle":"pill",href:"#custom-tabs-four-tasks",role:"tab","aria-controls":"custom-tabs-four-tasks","aria-selected":"false"}," Task & Polls ")],-1),Bn=e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"custom-tabs-four-goals-tab","data-toggle":"pill",href:"#custom-tabs-four-goals",role:"tab","aria-controls":"custom-tabs-four-goals","aria-selected":"false"}," Goals ")],-1),En=e("li",{class:"nav-item"},[e("a",{class:"nav-link",id:"custom-tabs-four-members-tab","data-toggle":"pill",href:"#custom-tabs-four-members",role:"tab","aria-controls":"custom-tabs-four-members","aria-selected":"false"}," Members ")],-1),Rn={class:"card-body"},An={class:"tab-content",id:"custom-tabs-four-tabContent"},Vn={class:"tab-pane fade active show",id:"custom-tabs-four-home",role:"tabpanel","aria-labelledby":"custom-tabs-four-home-tab"},Ln={class:"tab-pane fade",id:"custom-tabs-four-documents",role:"tabpanel","aria-labelledby":"custom-tabs-four-documents-tab"},jn=e("div",{class:"tab-pane fade",id:"custom-tabs-four-discussions",role:"tabpanel","aria-labelledby":"custom-tabs-four-discussions-tab"},null,-1),Nn=e("div",{class:"tab-pane fade",id:"custom-tabs-four-tasks",role:"tabpanel","aria-labelledby":"custom-tabs-four-tasks-tab"},null,-1),zn=e("div",{class:"tab-pane fade",id:"custom-tabs-four-goals",role:"tabpanel","aria-labelledby":"custom-tabs-four-goals-tab"},null,-1),Hn={class:"tab-pane fade",id:"custom-tabs-four-members",role:"tabpanel","aria-labelledby":"custom-tabs-four-members-tab"},il=me({__name:"BoardDetails",setup(F){const b=xe(),h=g(),v=we(),C=je();function p(){C.back()}m(p,"goBack");const T=v.params.boardId;return ue(async()=>{try{const $=(await Je(T)).data;h.value=$,window.dispatchEvent(new CustomEvent("updateTitle",{detail:$.name}))}catch(U){console.error("Error fetching board data:",U)}}),(U,$)=>(a(),l("div",hn,[h.value?(a(),l("div",bn,[e("div",{class:"widget-user-header text-white",style:Le([{backgroundImage:`url(${o(ut)(h.value.cover)})`,backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},{height:"250px",width:"100%",position:"relative"}])},vn,4),e("div",yn,[e("div",gn,[e("div",xn,[e("img",{class:"img-circle elevation-2",src:o(mt)(h.value.icon),alt:"User Avatar",style:{width:"128px",height:"128px"}},null,8,wn)]),e("div",kn,[e("a",{href:"",onClick:$[0]||($[0]=D(x=>p(),["prevent"])),class:"mb-2 lg:mb-0 text-blue-primary",style:{"margin-left":"140px","margin-top":"-44px"}},[$n,I(" Boards ")]),e("h3",Mn,c(h.value.name),1),e("div",Sn,[e("div",Cn,[e("ul",Fn,[Pn,o(b).hasPermission(["view folders"])?(a(),l("li",Dn,Tn)):r("",!0),Un,qn,Bn,En])]),e("div",Rn,[e("div",An,[e("div",Vn,[A(So)]),e("div",Ln,[A(ma)]),jn,Nn,zn,e("div",Hn,[A(pn)])])])])])])])])):r("",!0)]))}});export{il as default};
