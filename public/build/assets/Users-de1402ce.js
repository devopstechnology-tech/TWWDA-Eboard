var ke=Object.defineProperty;var i=(m,l)=>ke(m,"name",{value:l,configurable:!0});import{q as Ue,a0 as Re,d as Y,r as f,o,c as a,e,t as u,F as N,R as L,Y as se,ae as Ce,_ as H,C as D,U as F,g as B,T as $,h as I,i as oe,k as ae,V as ie,P as z,u as d,af as re,f as _,l as le,W as ce,X as de,j as ue,H as Ee,a2 as ne,$ as Se,a3 as qe}from"./main-dbb1f149.js";import{D as me,h as _e,I as De,J as Ie}from"./Breadcrumb-e536828e.js";import{u as pe,c as he,a as M,b as be}from"./useUnexpectedErrorHandler-4e609aa9.js";import{b as fe,c as ve,d as Te,e as Pe,f as Ae,a as Fe,g as Me}from"./useUserRequest-622bdf59.js";import{Q as Ne}from"./index-78587978.js";import{a as Le}from"./staff_routes-69f96f4b.js";import{F as v}from"./FormInput-9ec9e7b2.js";import{_ as ye}from"./LoadingComponent.vue_vue_type_script_setup_true_lang-a4c7a3e2.js";import{u as xe}from"./useQuery-c5d8918e.js";import"./useQueryClient-785d5088.js";async function ge(m){const l=Ue(),p=Ne.stringify(m,{arrayFormat:"brackets"}),k=await l.get(Le()+"?"+p).json();return Re({title:"Success",text:"Data Fetched successfully",type:"success"}),k}i(ge,"useGetRolesRequest");const Ve=["id","value"],je=["for"],Be=Y({__name:"RadioButton",props:{title:String,options:Array,name:String},setup(m){const l=f(""),p=i(()=>{emit("update:modelValue",l.value)},"emitSelectedOption");return(k,b)=>(o(),a("div",null,[e("h3",null,u(m.title),1),e("ul",null,[(o(!0),a(N,null,L(m.options,(c,x)=>(o(),a("li",{key:x},[se(e("input",{type:"radio",id:"radio-"+x,value:c.value,"onUpdate:modelValue":b[0]||(b[0]=R=>l.value=R),onChange:p},null,40,Ve),[[Ce,l.value]]),e("label",{for:"radio-"+x},u(c.title),9,je)]))),128))])]))}});const we=H(Be,[["__scopeId","data-v-517f8066"]]),Ye={class:"role-container w-100 d-flex justify-content-center"},Oe=["aria-expanded"],Ke={key:0,class:"dropdown-menu show justify-content","aria-labelledby":"role-status"},Ge=["onClick"],Qe={key:1,class:"text-center"},ze=Y({__name:"UserRole",props:{user:{},roles:{},disableRemoteRole:{}},emits:["role-updated"],setup(m,{emit:l}){const p=m,k=l,b=f(null),c=f(!1),x=i(n=>{n.stopPropagation(),c.value=!c.value},"toggleDropdown"),R=i(n=>{k("role-updated",{userId:p.user.id,userEmail:p.user.email,role:n.name}),c.value=!1},"updateRole"),q=D(()=>{var n;return((n=p.user.roles[0])==null?void 0:n.name)||"Select Role"}),w=D(()=>{var n;return`bg-${(n=p.user.roles[0])==null?void 0:n.name.toLowerCase()} text-white`}),C=D(()=>{var S;const n=(S=p.user.roles[0])==null?void 0:S.type;return`mr-2 fa ${K(n)}`}),r=D(()=>{var n;return((n=p.user.roles[0])==null?void 0:n.name)!=="System"}),O=D(()=>p.roles.filter(n=>n.name!=="System").map(n=>({...n,icon:`mr-2 fa ${K(n.type)}`}))),K=i(n=>({system:"fa-cogs",admin:"fa-user-shield",ceo:"fa-user-tie",companychairman:"fa-chess-king",companysecretary:"fa-user-secret",chairperson:"fa-users",secretary:"fa-user-circle",guest:"fa-user-tag",observer:"fa-binoculars"})[n.toLowerCase()]||"fa-user","mapIconToRole");return(n,S)=>(o(),a("div",Ye,[r.value?(o(),a("div",{key:0,class:"dropdown",ref_key:"dropdownRef",ref:b},[e("button",{class:F(["btn btn-primary dropdown-toggle text-truncate w-100",w.value]),type:"button",onClick:x,"aria-haspopup":"true","aria-expanded":c.value},[e("i",{class:F([C.value,"mr-2"])},null,2),B(" "+u(q.value),1)],10,Oe),c.value?(o(),a("ul",Ke,[(o(!0),a(N,null,L(O.value,E=>(o(),a("li",{key:E.name},[e("a",{href:"#",class:"dropdown-item",onClick:$(T=>R(E),["prevent"])},[e("i",{class:F([E.icon,"mr-2"])},null,2),B(" "+u(E.name),1)],8,Ge)]))),128))])):I("",!0)],512)):(o(),a("div",Qe,[e("i",{class:F([C.value,"mr-2"])},null,2),B(" "+u("Super Admin"))]))]))}});const $e=H(ze,[["__scopeId","data-v-4c969760"]]),g=i(m=>(ce("data-v-ce2278d8"),m=m(),de(),m),"_withScopeId$1"),He={key:0,class:"container-fluid"},Je=g(()=>e("div",{class:"card-header flex items-center"},[e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")])],-1)),We={class:"container-fluid"},Xe={class:"row"},Ze={class:"card card-outline card-primary h-100"},et={class:"card-body box-profile"},tt={class:"text-center"},st={class:"avatar avatar-md mb-3"},ot={href:"","aria-label":"Open {{ user.full_name }} User Profile"},at=["src"],lt={class:"profile-username text-center text-primary"},rt=["onClick"],nt=["onClick"],it=g(()=>e("i",{class:"far fa-eye"},null,-1)),ct=[it],dt=["onClick"],ut=g(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),mt=[ut],_t=["onClick"],pt=g(()=>e("i",{class:"fas fa-trash-restore"},null,-1)),ht=[pt],bt={class:"text-muted text-center text-bold"},ft={key:0,class:"mt-3"},vt=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),yt={class:"text-center"},xt={key:1,class:"mt-3"},gt=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),wt={class:"text-center"},$t={class:"mt-3"},kt=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),Ut={class:"text-center text-primary text-small"},Rt={class:"flex justify-center col-md-6"},Ct={method:"dialog",class:"modal-box rounded-xl"},Et=g(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Add User"),-1)),St=g(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),qt={class:"w-full mt-6 p-2"},Dt={class:"font-thin text-sm flex flex-col items-center gap-6"},It=g(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},u("Add User"),-1)),Tt={class:"flex justify-center col-md-6"},Pt={class:"card card-outline card-primary register-box"},At={method:"dialog",class:"modal-box rounded-xl"},Ft=g(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Edit User"),-1)),Mt=g(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Nt={class:"card-body"},Lt={class:"row"},Vt={class:"row"},jt={class:"col-md-12 mb-2"},Bt={key:0,type:"submit",class:"btn btn-primary btn-block"},Yt={key:1,class:"container-fluid"},Ot=g(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Kt=[Ot],Gt=Y({__name:"DeletedUsers",setup(m){const l=oe(),p=ae(),k=f(!1),b=f("create"),c=f(null),x=f(null),R=pe(),q=he({id:M().nullable(),email:M().required("Email is required"),role:M().required("Role is required")}),{handleSubmit:w,setErrors:C,setFieldValue:r,values:O,errors:K}=be({validationSchema:q,initialValues:{id:"",email:"",role:""}}),n=w(async(t,{resetForm:U})=>{var s;try{const h={id:t.id,email:t.email,role:t.role};b.value==="create"?await fe(h):b.value==="role"&&await ve(h,h.id),await P(),E(),(s=c.value)==null||s.close()}catch(h){h instanceof ie?C(h.messages):R(h)}}),S=i(t=>{p.push({name:"ProfileDetails",params:{userId:t.id,profileId:t.profile.id}})},"openUserProfile"),E=i(()=>{r("id",""),r("email",""),r("role",""),k.value=!1},"resetCreateForm"),T=[{name:"Member",value:"default"},{name:"Admin",value:"admin"},{name:"Observer",value:"observer"}],J=D(()=>T);z(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const W=i(()=>xe({queryKey:["getTrashedUsersKey"],queryFn:async()=>(await Te({paginate:"false"})).data}),"getUsers"),{isLoading:X,data:Z,refetch:P}=W(),V=i(t=>{E(),b.value="role",r("id",t.userId),r("role",t.role),r("email",t.userEmail),n()},"handleRoleUpdated"),G=f([]),Q=i(async()=>{const t=await ge({paginate:"false"});G.value=t.data},"getRoles");z(async()=>{await Q()});const ee=i(async t=>{await Pe(t),await P()},"onForceDeleteUser"),te=i(async t=>{await Ae(t),await P()},"onRestoreDeleteUser");return window.addEventListener("fetchUsersData",()=>{P()}),(t,U)=>d(l).hasPermission(["view users"])?(o(),a("div",He,[Je,e("div",We,[e("div",Xe,[(o(!0),a(N,null,L(d(Z),(s,h)=>{var j;return o(),a("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:s.id},[e("div",Ze,[e("div",et,[e("div",tt,[e("div",st,[e("a",ot,[e("img",{src:d(me)(s.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,at)])]),e("h3",lt,[d(l).hasPermission(["view user profile"])?(o(),a("a",{key:0,href:"",onClick:$(A=>S(s),["prevent"])},u(s.full_name),9,rt)):I("",!0),d(l).hasPermission(["view user profile"])?(o(),a("button",{key:1,type:"button",onClick:$(A=>S(s),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},ct,8,nt)):I("",!0),se(e("button",{type:"button",onClick:$(A=>ee(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},mt,8,dt),[[re,s.role!=="Super Admin"]]),se(e("button",{type:"button",onClick:$(A=>te(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},ht,8,_t),[[re,s.role!=="Super Admin"]])]),e("p",bt,u(s.role),1)]),d(l).hasPermission(["assign user permision"])?(o(),a("div",ft,[vt,e("div",yt,[_($e,{user:s,roles:G.value,disableRemoteRole:0,onRoleUpdated:V},null,8,["user","roles"])])])):(o(),a("div",xt,[gt,e("div",wt,u((j=s.roles[0])==null?void 0:j.name),1)])),e("div",$t,[kt,e("p",Ut,u(d(_e)(s.updated_at,null)),1)])])])])}),128))])]),e("div",Rt,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:c},[e("form",Ct,[Et,St,e("div",qt,[e("div",Dt,[e("form",{novalidate:"",onSubmit:U[0]||(U[0]=$((...s)=>t.onSubmitCreate&&t.onSubmitCreate(...s),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[_(v,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter User Email",type:"email"}),_(we,{title:"Roles",name:"role",options:J.value},null,8,["options"]),It],32)])])])],512)]),e("div",Tt,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:x},[e("div",Pt,[e("form",At,[Ft,Mt,e("div",Nt,[e("form",{novalidate:"",onSubmit:U[1]||(U[1]=(...s)=>t.onSubmitEdit&&t.onSubmitEdit(...s))},[e("div",Lt,[_(v,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),_(v,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),_(v,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),_(v,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),_(v,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),_(v,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",Vt,[e("div",jt,[d(X)?(o(),le(ye,{key:1})):(o(),a("button",Bt,"Sign In"))])])],32)])])])],512)])])):(o(),a("div",Yt,Kt))}});const Qt=H(Gt,[["__scopeId","data-v-ce2278d8"]]),y=i(m=>(ce("data-v-04d8d028"),m=m(),de(),m),"_withScopeId"),zt={key:0,class:"container-fluid"},Ht={class:"card-header flex items-center"},Jt=y(()=>e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")],-1)),Wt={key:0,class:"flex items-center space-x-2"},Xt=y(()=>e("i",{class:"far fa fa-plus mr-2"},null,-1)),Zt=y(()=>e("span",{class:""},"Add User",-1)),es={class:"container-fluid"},ts={class:"row"},ss={class:"card card-outline card-primary h-100"},os={class:"card-body box-profile"},as={class:"text-center"},ls={class:"avatar avatar-md mb-3"},rs=["src"],ns={class:"profile-username text-center text-primary"},is=["onClick"],cs=["onClick"],ds=y(()=>e("i",{class:"far fa-eye"},null,-1)),us=[ds],ms=["onClick"],_s=y(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),ps=[_s],hs={class:"text-muted text-center text-bold"},bs={key:0,class:"mt-3"},fs=y(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),vs={class:"text-center"},ys={key:1,class:"mt-3"},xs=y(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),gs={class:"text-center"},ws={class:"mt-3"},$s=y(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),ks={class:"text-center text-primary text-small"},Us={class:"flex justify-center col-md-6"},Rs={method:"dialog",class:"modal-box rounded-xl"},Cs=y(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Add User"),-1)),Es=y(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Ss={class:"w-full mt-6 p-2"},qs={class:"font-thin text-sm flex flex-col items-center gap-6"},Ds=y(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},u("Add User"),-1)),Is={class:"flex justify-center col-md-6"},Ts={class:"card card-outline card-primary register-box"},Ps={method:"dialog",class:"modal-box rounded-xl"},As=y(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Edit User"),-1)),Fs=y(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Ms={class:"card-body"},Ns={class:"row"},Ls={class:"row"},Vs={class:"col-md-12 mb-2"},js={key:0,type:"submit",class:"btn btn-primary btn-block"},Bs={key:1,class:"container-fluid"},Ys=y(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Os=[Ys],Ks=Y({__name:"Everyone",setup(m){const l=oe();ue();const p=ae(),k=f(!1),b=f("create"),c=f(null),x=f(null),R=pe(),q=he({id:M().nullable(),email:M().required("Email is required"),role:M().required("Role is required")}),{handleSubmit:w,setErrors:C,setFieldValue:r,values:O,errors:K}=be({validationSchema:q,initialValues:{id:"",email:"",role:""}}),n=i(()=>{var t;T(),b.value="create",k.value=!0,(t=c.value)==null||t.showModal()},"openCreateUserModal"),S=w(async(t,{resetForm:U})=>{var s;try{const h={id:t.id,email:t.email,role:t.role};b.value==="create"?await fe(h):b.value==="role"&&await ve(h,h.id),await V(),T(),(s=c.value)==null||s.close()}catch(h){h instanceof ie?C(h.messages):R(h)}}),E=i(t=>{p.push({name:"ProfileDetails",params:{userId:t.id,profileId:t.profile.id}})},"openUserProfile"),T=i(()=>{r("id",""),r("email",""),r("role",""),k.value=!1},"resetCreateForm"),J=[{name:"Member",value:"default"},{name:"Admin",value:"admin"},{name:"Observer",value:"observer"}],W=D(()=>J);z(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const X=i(()=>xe({queryKey:["getUsersKey"],queryFn:async()=>(await Fe({paginate:"false"})).data}),"getUsers"),{isLoading:Z,data:P,refetch:V}=X(),G=i(t=>{T(),b.value="role",r("id",t.userId),r("role",t.role),r("email",t.userEmail),S()},"handleRoleUpdated"),Q=f([]),ee=i(async()=>{const t=await ge({paginate:"false"});Q.value=t.data},"getRoles");z(async()=>{await ee()});const te=i(async t=>{await Me(t),await V()},"onDeleteUser");return window.addEventListener("fetchUsersData",()=>{V()}),(t,U)=>d(l).hasPermission(["view users"])?(o(),a("div",zt,[e("div",Ht,[Jt,d(l).hasPermission(["create user"])?(o(),a("div",Wt,[e("button",{type:"button",onClick:$(n,["prevent"]),class:"btn btn-sm btn-primary"},[Xt,B(),Zt])])):I("",!0)]),e("div",es,[e("div",ts,[(o(!0),a(N,null,L(d(P),(s,h)=>{var j;return o(),a("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:s.id},[e("div",ss,[e("div",os,[e("div",as,[e("div",ls,[e("img",{src:d(me)(s.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,rs)]),e("h3",ns,[d(l).hasPermission(["view user profile"])?(o(),a("a",{key:0,href:"",onClick:$(A=>E(s),["prevent"])},u(s.full_name),9,is)):I("",!0),d(l).hasPermission(["view user profile"])?(o(),a("button",{key:1,type:"button",onClick:$(A=>E(s),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},us,8,cs)):I("",!0),d(l).hasPermission(["delete user"])?(o(),a("button",{key:2,type:"button",onClick:$(A=>te(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},ps,8,ms)):I("",!0)]),e("p",hs,u(s.role),1)]),d(l).hasPermission(["assign user permision"])?(o(),a("div",bs,[fs,e("div",vs,[_($e,{user:s,roles:Q.value,disableRemoteRole:0,onRoleUpdated:G},null,8,["user","roles"])])])):(o(),a("div",ys,[xs,e("div",gs,u((j=s.roles[0])==null?void 0:j.name),1)])),e("div",ws,[$s,e("p",ks,u(d(_e)(s.updated_at,null)),1)])])])])}),128))])]),e("div",Us,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:c},[e("form",Rs,[Cs,Es,e("div",Ss,[e("div",qs,[e("form",{novalidate:"",onSubmit:U[0]||(U[0]=$((...s)=>t.onSubmitCreate&&t.onSubmitCreate(...s),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[_(v,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter User Email",type:"email"}),_(we,{title:"Roles",name:"role",options:W.value},null,8,["options"]),Ds],32)])])])],512)]),e("div",Is,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:x},[e("div",Ts,[e("form",Ps,[As,Fs,e("div",Ms,[e("form",{novalidate:"",onSubmit:U[1]||(U[1]=(...s)=>t.onSubmitEdit&&t.onSubmitEdit(...s))},[e("div",Ns,[_(v,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),_(v,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),_(v,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),_(v,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),_(v,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),_(v,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",Ls,[e("div",Vs,[d(Z)?(o(),le(ye,{key:1})):(o(),a("button",js,"Sign In"))])])],32)])])])],512)])])):(o(),a("div",Bs,Os))}});const Gs=H(Ks,[["__scopeId","data-v-04d8d028"]]),Qs={key:0,class:"container-fluid"},zs={class:"col-md-12"},Hs={class:"card card-widget widget-user shadow-lg"},Js={class:"card-footer"},Ws={class:""},Xs={class:"info-box-icon bg-danger",style:{left:"4%","margin-left":"-45px",position:"absolute",top:"190px"}},Zs=["src"],eo={class:"ml-3 flex-1",style:{"margin-top":"-28px"}},to=e("i",{class:"fas fa-chevron-left fa-xs"},null,-1),so=e("h3",{class:"h2 mb-2 lg:mb-0",style:{"margin-left":"131px"}}," Users ",-1),oo={class:"card-outline card-outline-tabs"},ao={class:"card-header p-0 border-bottom-0"},lo={class:"nav nav-tabs",id:"custom-tabs-four-tab",role:"tablist"},ro=["onClick"],no={class:"card-body"},io={class:"tab-content",id:"custom-tabs-four-tabContent"},co=["id"],uo={key:1,class:"container-fluid"},mo=e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1),_o=[mo],Uo=Y({__name:"Users",setup(m){const l=ue(),p=ae(),k=oe();function b(){p.back()}i(b,"goBack");const c=f("users"),x=f(""),R=[{id:"users",name:"All Users",component:Gs},{id:"trashed",name:"Trashed Users",component:Qt}],q=i(w=>{x.value=c.value,c.value=w},"setActiveTab");return Ee(c,(w,C)=>{(w==="users"||w==="trashed")&&window.dispatchEvent(new CustomEvent("fetchUsersData"))}),ne(()=>{l.query.previousTab&&(x.value=l.query.previousTab),l.query.currentTab&&(c.value=l.query.currentTab)}),ne(()=>{l.query.previousTab&&(x.value=l.query.previousTab),l.query.currentTab&&(c.value=l.query.currentTab)}),(w,C)=>d(k).hasPermission(["view users"])?(o(),a("div",Qs,[e("div",zs,[e("div",Hs,[e("div",{class:"widget-user-header text-white",style:Se([{background:`url(${d(De)("default.png")}) center center`},{height:"250px"}])},null,4),e("div",Js,[e("div",Ws,[e("span",Xs,[e("img",{class:"img-square",src:d(Ie)("defaulticon.png"),alt:"User Avatar",style:{width:"128px",height:"128px"}},null,8,Zs)]),e("div",eo,[e("a",{href:"",onClick:C[0]||(C[0]=$(r=>b(),["prevent"])),class:"mb-2 lg:mb-0 text-blue-primary",style:{"margin-left":"131px","margin-top":"-44px"}},[to,B(" Dashboard ")]),so,e("div",oo,[e("div",ao,[e("ul",lo,[(o(),a(N,null,L(R,r=>e("li",{class:"nav-item",key:r.id},[e("a",{class:F(["nav-link",{active:c.value===r.id}]),onClick:O=>q(r.id)},u(r.name),11,ro)])),64))])]),e("div",no,[e("div",io,[(o(),a(N,null,L(R,r=>e("div",{key:r.id,class:F(["tab-pane fade",{"show active":c.value===r.id}]),id:r.id,role:"tabpanel"},[(o(),le(qe(r.component),{onChangeTab:q,onMembershipsUpdated:w.handleMembershipsUpdated},null,40,["onMembershipsUpdated"]))],10,co)),64))])])])])])])])])])):(o(),a("div",uo,_o))}});export{Uo as default};
