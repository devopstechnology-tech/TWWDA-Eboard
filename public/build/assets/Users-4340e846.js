var $e=Object.defineProperty;var i=(h,o)=>$e(h,"name",{value:o,configurable:!0});import{q as ke,a5 as Ue,d as O,r as x,o as t,c as s,e,t as p,F as L,T as M,a2 as se,ai as Re,_ as z,C as N,R as A,g as B,a1 as U,h as F,i as oe,k as ae,V as ce,P as Q,u as d,aj as ne,f as _,l as le,$ as ue,a0 as me,j as _e,b as ie,H as Ee,a7 as de,a4 as Ce,a8 as Se}from"./main-d97516e2.js";import{l as pe,k as he,I as qe,J as Ie}from"./Breadcrumb-62de853f.js";import{u as be,c as fe,a as I,b as ve}from"./useUnexpectedErrorHandler-01ee037e.js";import{c as ye,d as xe,e as De,f as Pe,g as Ne,b as Fe,h as Te}from"./useUserRequest-19f3a11e.js";import{Q as Ae}from"./index-a4206e89.js";import{a as Le}from"./staff_routes-2c9640ed.js";import{F as b}from"./FormInput-19d746f6.js";import{_ as Me}from"./LoadingComponent.vue_vue_type_script_setup_true_lang-49da6d1d.js";import{u as we}from"./useQuery-f8736dfe.js";import{F as je}from"./FormRadioInput-636b4964.js";import"./useQueryClient-99479e2d.js";async function ge(h){const o=ke(),f=Ae.stringify(h,{arrayFormat:"brackets"}),R=await o.get(Le()+"?"+f).json();return Ue({title:"Success",text:"Data Fetched successfully",type:"success"}),R}i(ge,"useGetRolesRequest");const Ve=["id","value"],Ye=["for"],Be=O({__name:"RadioButton",props:{title:String,options:Array,name:String},setup(h){const o=x(""),f=i(()=>{emit("update:modelValue",o.value)},"emitSelectedOption");return(R,v)=>(t(),s("div",null,[e("h3",null,p(h.title),1),e("ul",null,[(t(!0),s(L,null,M(h.options,(c,g)=>(t(),s("li",{key:g},[se(e("input",{type:"radio",id:"radio-"+g,value:c.value,"onUpdate:modelValue":v[0]||(v[0]=C=>o.value=C),onChange:f},null,40,Ve),[[Re,o.value]]),e("label",{for:"radio-"+g},p(c.title),9,Ye)]))),128))])]))}});const Oe=z(Be,[["__scopeId","data-v-02d2b385"]]),Ke={class:"role-container w-100 d-flex justify-content-center"},Ge=["aria-expanded"],Qe={key:0,class:"dropdown-menu show justify-content","aria-labelledby":"role-status"},ze=["onClick"],He={key:1,class:"text-center"},Je=O({__name:"UserRole",props:{user:{},roles:{},disableRemoteRole:{}},emits:["role-updated"],setup(h,{emit:o}){const f=h,R=o,v=x(null),c=x(!1),g=i(l=>{l.stopPropagation(),c.value=!c.value},"toggleDropdown"),C=i(l=>{R("role-updated",{userId:f.user.id,userEmail:f.user.email,role:l.name}),c.value=!1},"updateRole"),D=N(()=>{var l;return((l=f.user.roles[0])==null?void 0:l.name)||"Select Role"}),k=N(()=>{var l;return`bg-${(l=f.user.roles[0])==null?void 0:l.name.toLowerCase()} text-white`}),S=N(()=>{var q;const l=(q=f.user.roles[0])==null?void 0:q.type;return`mr-2 fa ${V(l)}`}),n=N(()=>{var l;return((l=f.user.roles[0])==null?void 0:l.name)!=="System"}),j=N(()=>f.roles.filter(l=>l.name!=="System").map(l=>({...l,icon:`mr-2 fa ${V(l.type)}`}))),V=i(l=>({system:"fa-cogs",admin:"fa-user-shield",ceo:"fa-user-tie",companychairman:"fa-chess-king",companysecretary:"fa-user-secret",chairperson:"fa-users",secretary:"fa-user-circle",guest:"fa-user-tag",observer:"fa-binoculars"})[l.toLowerCase()]||"fa-user","mapIconToRole");return(l,q)=>(t(),s("div",Ke,[n.value?(t(),s("div",{key:0,class:"dropdown",ref_key:"dropdownRef",ref:v},[e("button",{class:A(["btn btn-primary dropdown-toggle text-truncate w-100",k.value]),type:"button",onClick:g,"aria-haspopup":"true","aria-expanded":c.value},[e("i",{class:A([S.value,"mr-2"])},null,2),B(" "+p(D.value),1)],10,Ge),c.value?(t(),s("ul",Qe,[(t(!0),s(L,null,M(j.value,E=>(t(),s("li",{key:E.name},[e("a",{href:"#",class:"dropdown-item",onClick:U(K=>C(E),["prevent"])},[e("i",{class:A([E.icon,"mr-2"])},null,2),B(" "+p(E.name),1)],8,ze)]))),128))])):F("",!0)],512)):(t(),s("div",He,[e("i",{class:A([S.value,"mr-2"])},null,2),B(" "+p("Super Admin"))]))]))}});const We=z(Je,[["__scopeId","data-v-4c969760"]]),$=i(h=>(ue("data-v-ce2278d8"),h=h(),me(),h),"_withScopeId$1"),Xe={key:0,class:"container-fluid"},Ze=$(()=>e("div",{class:"card-header flex items-center"},[e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")])],-1)),et={class:"container-fluid"},tt={class:"row"},st={class:"card card-outline card-primary h-100"},ot={class:"card-body box-profile"},at={class:"text-center"},lt={class:"avatar avatar-md mb-3"},rt={href:"","aria-label":"Open {{ user.full_name }} User Profile"},nt=["src"],it={class:"profile-username text-center text-primary"},dt=["onClick"],ct=["onClick"],ut=$(()=>e("i",{class:"far fa-eye"},null,-1)),mt=[ut],_t=["onClick"],pt=$(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),ht=[pt],bt=["onClick"],ft=$(()=>e("i",{class:"fas fa-trash-restore"},null,-1)),vt=[ft],yt={class:"text-muted text-center text-bold"},xt={key:0,class:"mt-3"},wt=$(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),gt={class:"text-center"},$t={key:1,class:"mt-3"},kt=$(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),Ut={class:"text-center"},Rt={class:"mt-3"},Et=$(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),Ct={class:"text-center text-primary text-small"},St={class:"flex justify-center col-md-6"},qt={method:"dialog",class:"modal-box rounded-xl"},It=$(()=>e("h3",{class:"font-bold text-lg justify-center flex"},p("Add User"),-1)),Dt=$(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Pt={class:"w-full mt-6 p-2"},Nt={class:"font-thin text-sm flex flex-col items-center gap-6"},Ft=$(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},p("Add User"),-1)),Tt={class:"flex justify-center col-md-6"},At={class:"card card-outline card-primary register-box"},Lt={method:"dialog",class:"modal-box rounded-xl"},Mt=$(()=>e("h3",{class:"font-bold text-lg justify-center flex"},p("Edit User"),-1)),jt=$(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Vt={class:"card-body"},Yt={class:"row"},Bt={class:"row"},Ot={class:"col-md-12 mb-2"},Kt={key:0,type:"submit",class:"btn btn-primary btn-block"},Gt={key:1,class:"container-fluid"},Qt=$(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),zt=[Qt],Ht=O({__name:"DeletedUsers",setup(h){const o=oe(),f=ae(),R=x(!1),v=x("create"),c=x(null),g=x(null),C=be(),D=fe({id:I().nullable(),email:I().required("Email is required"),role:I().required("Role is required")}),{handleSubmit:k,setErrors:S,setFieldValue:n,values:j,errors:V}=ve({validationSchema:D,initialValues:{id:"",email:"",role:""}}),l=k(async(a,{resetForm:y})=>{var m;try{const u={id:a.id,email:a.email,role:a.role};v.value==="create"?await ye(u):v.value==="role"&&await xe(u,u.id),await P(),E(),(m=c.value)==null||m.close()}catch(u){u instanceof ce?S(u.messages):C(u)}}),q=i(a=>{f.push({name:"ProfileDetails",params:{userId:a.id,profileId:a.profile.id}})},"openUserProfile"),E=i(()=>{n("id",""),n("email",""),n("role",""),R.value=!1},"resetCreateForm"),K=[{name:"Member",value:"default"},{name:"Admin",value:"admin"},{name:"Observer",value:"observer"}],G=N(()=>K);Q(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const H=i(()=>we({queryKey:["getTrashedUsersKey"],queryFn:async()=>(await De({paginate:"false"})).data}),"getUsers"),{isLoading:J,data:W,refetch:P}=H(),X=i(a=>{E(),v.value="role",n("id",a.userId),n("role",a.role),n("email",a.userEmail),l()},"handleRoleUpdated"),Y=x([]),Z=i(async()=>{const a=await ge({paginate:"false"});Y.value=a.data},"getRoles");Q(async()=>{await Z()});const ee=i(async a=>{await Pe(a),await P()},"onForceDeleteUser"),r=i(async a=>{await Ne(a),await P()},"onRestoreDeleteUser");return window.addEventListener("fetchUsersData",()=>{P()}),(a,y)=>d(o).hasPermission(["view users"])?(t(),s("div",Xe,[Ze,e("div",et,[e("div",tt,[(t(!0),s(L,null,M(d(W),(m,u)=>{var te;return t(),s("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:m.id},[e("div",st,[e("div",ot,[e("div",at,[e("div",lt,[e("a",rt,[e("img",{src:d(pe)(m.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,nt)])]),e("h3",it,[d(o).hasPermission(["view user profile"])?(t(),s("a",{key:0,href:"",onClick:U(T=>q(m),["prevent"])},p(m.full_name),9,dt)):F("",!0),d(o).hasPermission(["view user profile"])?(t(),s("button",{key:1,type:"button",onClick:U(T=>q(m),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},mt,8,ct)):F("",!0),se(e("button",{type:"button",onClick:U(T=>ee(m.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},ht,8,_t),[[ne,m.role!=="Super Admin"]]),se(e("button",{type:"button",onClick:U(T=>r(m.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},vt,8,bt),[[ne,m.role!=="Super Admin"]])]),e("p",yt,p(m.role),1)]),d(o).hasPermission(["assign user permision"])?(t(),s("div",xt,[wt,e("div",gt,[_(We,{user:m,roles:Y.value,disableRemoteRole:0,onRoleUpdated:X},null,8,["user","roles"])])])):(t(),s("div",$t,[kt,e("div",Ut,p((te=m.roles[0])==null?void 0:te.name),1)])),e("div",Rt,[Et,e("p",Ct,p(d(he)(m.updated_at,null)),1)])])])])}),128))])]),e("div",St,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:c},[e("form",qt,[It,Dt,e("div",Pt,[e("div",Nt,[e("form",{novalidate:"",onSubmit:y[0]||(y[0]=U((...m)=>a.onSubmitCreate&&a.onSubmitCreate(...m),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[_(b,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter User Email",type:"email"}),_(Oe,{title:"Roles",name:"role",options:G.value},null,8,["options"]),Ft],32)])])])],512)]),e("div",Tt,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:g},[e("div",At,[e("form",Lt,[Mt,jt,e("div",Vt,[e("form",{novalidate:"",onSubmit:y[1]||(y[1]=(...m)=>a.onSubmitEdit&&a.onSubmitEdit(...m))},[e("div",Yt,[_(b,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),_(b,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),_(b,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),_(b,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),_(b,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),_(b,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",Bt,[e("div",Ot,[d(J)?(t(),le(Me,{key:1})):(t(),s("button",Kt,"Sign In"))])])],32)])])])],512)])])):(t(),s("div",Gt,zt))}});const Jt=z(Ht,[["__scopeId","data-v-ce2278d8"]]),w=i(h=>(ue("data-v-08467118"),h=h(),me(),h),"_withScopeId"),Wt={key:0,class:"container-fluid"},Xt={class:"card-header flex items-center"},Zt=w(()=>e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")],-1)),es={key:0,class:"flex items-center space-x-2"},ts=w(()=>e("i",{class:"far fa fa-plus mr-2"},null,-1)),ss=w(()=>e("span",{class:""},"Add User",-1)),os={class:"container-fluid"},as={class:"row"},ls={class:"card card-outline card-primary h-100"},rs={class:"card-body box-profile"},ns={class:"text-center"},is={class:"avatar avatar-md mb-3"},ds=["src"],cs={class:"profile-username text-center text-primary"},us=["onClick"],ms=["onClick"],_s=w(()=>e("i",{class:"far fa-eye"},null,-1)),ps=[_s],hs=["onClick"],bs=w(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),fs=[bs],vs={class:"text-muted text-center text-bold"},ys={key:0,class:"mt-3"},xs=w(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),ws={class:"text-center"},gs={key:1,class:"mt-3"},$s=w(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),ks={class:"text-center"},Us={class:"mt-3"},Rs=w(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),Es={class:"text-center text-primary text-small"},Cs={class:"flex justify-center col-md-6"},Ss={method:"dialog",class:"modal-box rounded-xl"},qs=w(()=>e("h3",{class:"font-bold text-lg justify-center flex"},p("Add User"),-1)),Is=w(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Ds={class:"w-full mt-6 p-2"},Ps={class:"font-thin text-sm flex flex-col items-center gap-6"},Ns={class:"flex flex-wrap -mx-2"},Fs={class:"w-full md:w-1/2 px-1 md:px-2 mb-4"},Ts={class:"w-full md:w-1/2 px-1 md:px-2 mb-4"},As={class:"flex flex-wrap -mx-2"},Ls={class:"w-full md:w-1/2 px-1 md:px-2 mb-4"},Ms={class:"w-full md:w-1/2 px-1 md:px-2 mb-4"},js=w(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},p("Add User"),-1)),Vs={class:"flex justify-center col-md-6"},Ys={class:"card card-outline card-primary register-box"},Bs={method:"dialog",class:"modal-box rounded-xl"},Os=w(()=>e("h3",{class:"font-bold text-lg justify-center flex"},p("Edit User"),-1)),Ks=w(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Gs={class:"card-body"},Qs={class:"row"},zs={class:"row"},Hs={class:"col-md-12 mb-2"},Js={key:0,type:"submit",class:"btn btn-primary btn-block"},Ws={key:1,class:"container-fluid"},Xs=w(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Zs=[Xs],eo=O({__name:"Everyone",setup(h){const o=oe();_e();const f=ae(),R=x(!1),v=x("create"),c=x(null),g=x(null),C=be(),D=fe({id:I().nullable(),email:I().required("Email is required"),role:I().required("Role is required"),first:I().required("First Name is required"),last:I().required("Last Name is required"),id_number:I().required("Id Number is required"),phone:I().required("Phone Number is required")}),{handleSubmit:k,setErrors:S,setFieldValue:n,values:j}=ve({validationSchema:D,initialValues:{id:null,email:"",role:"",first:"",last:"",id_number:"",phone:""}}),V=i(()=>{var r;E(),v.value="create",R.value=!0,(r=c.value)==null||r.showModal()},"openCreateUserModal"),l=k(async r=>{var a;try{const y={id:r.id,email:r.email,role:r.role,first:r.first,last:r.last,id_number:r.id_number,phone:r.phone};v.value==="create"?await ye(y):v.value==="role"&&await xe(y,y.id),(a=c.value)==null||a.close(),await P(),E()}catch(y){y instanceof ce?S(y.messages):C(y)}}),q=i(r=>{f.push({name:"ProfileDetails",params:{userId:r.id,profileId:r.profile.id}})},"openUserProfile"),E=i(()=>{n("id",""),n("email",""),n("role",""),R.value=!1},"resetCreateForm"),K=[{id:"default",name:"Member",value:"default"},{id:"admin",name:"Admin",value:"admin"},{id:"observer",name:"Observer",value:"observer"}],G=N(()=>K);Q(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const H=i(()=>we({queryKey:["getUsersKey"],queryFn:async()=>(await Fe({paginate:"false"})).data}),"getUsers"),{isLoading:J,data:W,refetch:P}=H(),X=i(r=>{E(),v.value="role",n("id",r.userId),n("role",r.role),n("email",r.userEmail),l()},"handleRoleUpdated"),Y=x([]),Z=i(async()=>{const r=await ge({paginate:"false"});Y.value=r.data},"getRoles");Q(async()=>{await Z()});const ee=i(async r=>{await Te(r),await P()},"onDeleteUser");return window.addEventListener("fetchUsersData",()=>{P()}),(r,a)=>{const y=ie("UserRole"),m=ie("LoadingComponent");return d(o).hasPermission(["view users"])?(t(),s("div",Wt,[e("div",Xt,[Zt,d(o).hasPermission(["create user"])?(t(),s("div",es,[e("button",{type:"button",onClick:U(V,["prevent"]),class:"btn btn-sm btn-primary"},[ts,B(),ss])])):F("",!0)]),e("div",os,[e("div",as,[(t(!0),s(L,null,M(d(W),(u,te)=>{var T;return t(),s("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:u.id},[e("div",ls,[e("div",rs,[e("div",ns,[e("div",is,[e("img",{src:d(pe)(u.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,ds)]),e("h3",cs,[d(o).hasPermission(["view user profile"])?(t(),s("a",{key:0,href:"",onClick:U(re=>q(u),["prevent"])},p(u.full_name),9,us)):F("",!0),d(o).hasPermission(["view user profile"])?(t(),s("button",{key:1,type:"button",onClick:U(re=>q(u),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},ps,8,ms)):F("",!0),d(o).hasPermission(["delete user"])?(t(),s("button",{key:2,type:"button",onClick:U(re=>ee(u.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},fs,8,hs)):F("",!0)]),e("p",vs,p(u.role),1)]),d(o).hasPermission(["assign user permision"])?(t(),s("div",ys,[xs,e("div",ws,[_(y,{user:u,roles:Y.value,disableRemoteRole:0,onRoleUpdated:X},null,8,["user","roles"])])])):(t(),s("div",gs,[$s,e("div",ks,p((T=u.roles[0])==null?void 0:T.name),1)])),e("div",Us,[Rs,e("p",Es,p(d(he)(u.updated_at,null)),1)])])])])}),128))])]),e("div",Cs,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:c},[e("form",Ss,[qs,Is,e("div",Ds,[e("div",Ps,[e("form",{novalidate:"",onSubmit:a[0]||(a[0]=U((...u)=>d(l)&&d(l)(...u),["prevent"]))},[e("div",Ns,[e("div",Fs,[_(b,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide",placeholder:"Enter your First Name",type:"text"})]),e("div",Ts,[_(b,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide mb-2",placeholder:"Enter your Last Name",type:"text"})])]),e("div",As,[e("div",Ls,[_(b,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide mb-2",placeholder:"Enter your ID Number",type:"number"})]),e("div",Ms,[_(b,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide mb-2",placeholder:"Enter your Phone",type:"number"})])]),_(b,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide mb-2",placeholder:"Enter User Email",type:"email"}),_(je,{label:"Role Options",name:"role",options:G.value,checked:G.value[d(j).role],inline:!0},null,8,["options","checked"]),js],32)])])])],512)]),e("div",Vs,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:g},[e("div",Ys,[e("form",Bs,[Os,Ks,e("div",Gs,[e("form",{novalidate:"",onSubmit:a[1]||(a[1]=(...u)=>r.onSubmitEdit&&r.onSubmitEdit(...u))},[e("div",Qs,[_(b,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),_(b,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),_(b,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),_(b,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),_(b,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),_(b,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",zs,[e("div",Hs,[d(J)?(t(),le(m,{key:1})):(t(),s("button",Js,"Sign In"))])])],32)])])])],512)])])):(t(),s("div",Ws,Zs))}}});const to=z(eo,[["__scopeId","data-v-08467118"]]),so={key:0,class:"container-fluid"},oo={class:"col-md-12"},ao={class:"card card-widget widget-user shadow-lg"},lo={class:"card-footer"},ro={class:""},no={class:"info-box-icon bg-danger",style:{left:"4%","margin-left":"-45px",position:"absolute",top:"190px"}},io=["src"],co={class:"ml-3 flex-1",style:{"margin-top":"-28px"}},uo=e("i",{class:"fas fa-chevron-left fa-xs"},null,-1),mo=e("h3",{class:"h2 mb-2 lg:mb-0",style:{"margin-left":"131px"}}," Users ",-1),_o={class:"card-outline card-outline-tabs"},po={class:"card-header p-0 border-bottom-0"},ho={class:"nav nav-tabs",id:"custom-tabs-four-tab",role:"tablist"},bo=["onClick"],fo={class:"card-body"},vo={class:"tab-content",id:"custom-tabs-four-tabContent"},yo=["id"],xo={key:1,class:"container-fluid"},wo=e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1),go=[wo],Fo=O({__name:"Users",setup(h){const o=_e(),f=ae(),R=oe();function v(){f.back()}i(v,"goBack");const c=x("users"),g=x(""),C=[{id:"users",name:"All Users",component:to},{id:"trashed",name:"Trashed Users",component:Jt}],D=i(k=>{g.value=c.value,c.value=k},"setActiveTab");return Ee(c,(k,S)=>{(k==="users"||k==="trashed")&&window.dispatchEvent(new CustomEvent("fetchUsersData"))}),de(()=>{o.query.previousTab&&(g.value=o.query.previousTab),o.query.currentTab&&(c.value=o.query.currentTab)}),de(()=>{o.query.previousTab&&(g.value=o.query.previousTab),o.query.currentTab&&(c.value=o.query.currentTab)}),(k,S)=>d(R).hasPermission(["view users"])?(t(),s("div",so,[e("div",oo,[e("div",ao,[e("div",{class:"widget-user-header text-white",style:Ce([{background:`url(${d(qe)("default.png")}) center center`},{height:"250px"}])},null,4),e("div",lo,[e("div",ro,[e("span",no,[e("img",{class:"img-square",src:d(Ie)("defaulticon.png"),alt:"User Avatar",style:{width:"128px",height:"128px"}},null,8,io)]),e("div",co,[e("a",{href:"",onClick:S[0]||(S[0]=U(n=>v(),["prevent"])),class:"mb-2 lg:mb-0 text-blue-primary",style:{"margin-left":"131px","margin-top":"-44px"}},[uo,B(" Dashboard ")]),mo,e("div",_o,[e("div",po,[e("ul",ho,[(t(),s(L,null,M(C,n=>e("li",{class:"nav-item",key:n.id},[e("a",{class:A(["nav-link",{active:c.value===n.id}]),onClick:j=>D(n.id)},p(n.name),11,bo)])),64))])]),e("div",fo,[e("div",vo,[(t(),s(L,null,M(C,n=>e("div",{key:n.id,class:A(["tab-pane fade",{"show active":c.value===n.id}]),id:n.id,role:"tabpanel"},[(t(),le(Se(n.component),{onChangeTab:D,onMembershipsUpdated:k.handleMembershipsUpdated},null,40,["onMembershipsUpdated"]))],10,yo)),64))])])])])])])])])])):(t(),s("div",xo,go))}});export{Fo as default};
