var ke=Object.defineProperty;var c=(m,l)=>ke(m,"name",{value:l,configurable:!0});import{q as Ue,a3 as Re,d as B,o,c as a,e,t as u,F as I,R as L,Z as te,a0 as Ce,u as i,a1 as Ee,h as D,r as y,C as T,U as M,g as Y,T as U,_ as se,i as oe,k as ae,V as ie,P as z,af as re,f as p,l as le,W as de,X as ce,j as ue,H as Se,a9 as ne,a2 as qe,aa as De}from"./main-73cc7250.js";import{D as me,e as _e,J as Te,K as Ie}from"./Breadcrumb-3c2060aa.js";import{e as Pe,u as pe,c as he,a as N,b as be}from"./useUnexpectedErrorHandler-2f351290.js";import{a as fe,b as ve,c as Ae,d as Fe,e as Me,f as Ne,g as Le}from"./useUserRequest-35393876.js";import{Q as je}from"./index-dc8fc598.js";import{a as Ve}from"./staff_routes-2856961c.js";import{F as v}from"./FormInput-2746df02.js";import{_ as ye}from"./LoadingComponent.vue_vue_type_script_setup_true_lang-b5da6a87.js";import{u as xe}from"./useQuery-1e54e0ce.js";import"./useQueryClient-0fa55727.js";async function ge(m){const l=Ue(),_=je.stringify(m,{arrayFormat:"brackets"}),f=await l.get(Ve()+"?"+_).json();return Re({title:"Success",text:"Data Fetched successfully",type:"success"}),f}c(ge,"useGetRolesRequest");const Ye={class:"my-3 text-gray-900 dark:text-white text-xs leading-none font-normal"},Be={class:"items-center w-full text-sm font-medium text-gray-900 bg-white rounded-lg lg:flex dark:bg-gray-710 dark:border-gray-600 dark:text-black"},Ke={class:"col-md-12"},Oe={class:"form-group clearfix"},Ge={class:"icheck-primary d-inline"},Qe=["value","id","name"],ze=["for"],He={key:0,class:"message"},we=B({__name:"RadioButton",props:{title:{default:"Select an option"},name:{},options:{}},setup(m){const l=m,{errorMessage:_,value:f}=Pe(l.name);return(b,d)=>(o(),a(I,null,[e("h3",Ye,u(b.title),1),e("ul",Be,[(o(!0),a(I,null,L(b.options,(w,$)=>(o(),a("li",{class:"",key:$},[e("div",Ke,[e("div",Oe,[e("div",Ge,[te(e("input",{"onUpdate:modelValue":d[0]||(d[0]=C=>Ee(f)?f.value=C:null),value:w.value,type:"radio",id:"radio-"+($+1),name:b.name},null,8,Qe),[[Ce,i(f)]]),e("label",{for:"radio-"+($+1),class:"ml-2"},u(w.name),9,ze)])])])]))),128)),i(_)?(o(),a("div",He,u(i(_)),1)):D("",!0)])],64))}}),Je={class:"role-container w-100 d-flex justify-content-center"},We=["aria-expanded"],Xe={key:0,class:"dropdown-menu show justify-content","aria-labelledby":"role-status"},Ze=["onClick"],et={key:1,class:"text-center"},tt=B({__name:"UserRole",props:{user:{},roles:{},disableRemoteRole:{}},emits:["role-updated"],setup(m,{emit:l}){const _=m,f=l,b=y(null),d=y(!1),w=c(n=>{n.stopPropagation(),d.value=!d.value},"toggleDropdown"),$=c(n=>{f("role-updated",{userId:_.user.id,userEmail:_.user.email,role:n.name}),d.value=!1},"updateRole"),C=T(()=>{var n;return((n=_.user.roles[0])==null?void 0:n.name)||"Select Role"}),k=T(()=>{var n;return`bg-${(n=_.user.roles[0])==null?void 0:n.name.toLowerCase()} text-white`}),E=T(()=>{var q;const n=(q=_.user.roles[0])==null?void 0:q.type;return`mr-2 fa ${O(n)}`}),r=T(()=>{var n;return((n=_.user.roles[0])==null?void 0:n.name)!=="System"}),K=T(()=>_.roles.filter(n=>n.name!=="System").map(n=>({...n,icon:`mr-2 fa ${O(n.type)}`}))),O=c(n=>({system:"fa-cogs",admin:"fa-user-shield",ceo:"fa-user-tie",companychairman:"fa-chess-king",companysecretary:"fa-user-secret",chairperson:"fa-users",secretary:"fa-user-circle",guest:"fa-user-tag",observer:"fa-binoculars"})[n.toLowerCase()]||"fa-user","mapIconToRole");return(n,q)=>(o(),a("div",Je,[r.value?(o(),a("div",{key:0,class:"dropdown",ref_key:"dropdownRef",ref:b},[e("button",{class:M(["btn btn-primary dropdown-toggle text-truncate w-100",k.value]),type:"button",onClick:w,"aria-haspopup":"true","aria-expanded":d.value},[e("i",{class:M([E.value,"mr-2"])},null,2),Y(" "+u(C.value),1)],10,We),d.value?(o(),a("ul",Xe,[(o(!0),a(I,null,L(K.value,S=>(o(),a("li",{key:S.name},[e("a",{href:"#",class:"dropdown-item",onClick:U(P=>$(S),["prevent"])},[e("i",{class:M([S.icon,"mr-2"])},null,2),Y(" "+u(S.name),1)],8,Ze)]))),128))])):D("",!0)],512)):(o(),a("div",et,[e("i",{class:M([E.value,"mr-2"])},null,2),Y(" "+u("Super Admin"))]))]))}});const $e=se(tt,[["__scopeId","data-v-4c969760"]]),g=c(m=>(de("data-v-ce2278d8"),m=m(),ce(),m),"_withScopeId$1"),st={key:0,class:"container-fluid"},ot=g(()=>e("div",{class:"card-header flex items-center"},[e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")])],-1)),at={class:"container-fluid"},lt={class:"row"},rt={class:"card card-outline card-primary h-100"},nt={class:"card-body box-profile"},it={class:"text-center"},dt={class:"avatar avatar-md mb-3"},ct={href:"","aria-label":"Open {{ user.full_name }} User Profile"},ut=["src"],mt={class:"profile-username text-center text-primary"},_t=["onClick"],pt=["onClick"],ht=g(()=>e("i",{class:"far fa-eye"},null,-1)),bt=[ht],ft=["onClick"],vt=g(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),yt=[vt],xt=["onClick"],gt=g(()=>e("i",{class:"fas fa-trash-restore"},null,-1)),wt=[gt],$t={class:"text-muted text-center text-bold"},kt={key:0,class:"mt-3"},Ut=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),Rt={class:"text-center"},Ct={key:1,class:"mt-3"},Et=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),St={class:"text-center"},qt={class:"mt-3"},Dt=g(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),Tt={class:"text-center text-primary text-small"},It={class:"flex justify-center col-md-6"},Pt={method:"dialog",class:"modal-box rounded-xl"},At=g(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Add User"),-1)),Ft=g(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Mt={class:"w-full mt-6 p-2"},Nt={class:"font-thin text-sm flex flex-col items-center gap-6"},Lt=g(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},u("Add User"),-1)),jt={class:"flex justify-center col-md-6"},Vt={class:"card card-outline card-primary register-box"},Yt={method:"dialog",class:"modal-box rounded-xl"},Bt=g(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Edit User"),-1)),Kt=g(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Ot={class:"card-body"},Gt={class:"row"},Qt={class:"row"},zt={class:"col-md-12 mb-2"},Ht={key:0,type:"submit",class:"btn btn-primary btn-block"},Jt={key:1,class:"container-fluid"},Wt=g(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Xt=[Wt],Zt=B({__name:"DeletedUsers",setup(m){const l=oe(),_=ae(),f=y(!1),b=y("create"),d=y(null),w=y(null),$=pe(),C=he({id:N().nullable(),email:N().required("Email is required"),role:N().required("Role is required")}),{handleSubmit:k,setErrors:E,setFieldValue:r,values:K,errors:O}=be({validationSchema:C,initialValues:{id:"",email:"",role:""}}),n=k(async(t,{resetForm:R})=>{var s;try{const h={id:t.id,email:t.email,role:t.role};b.value==="create"?await fe(h):b.value==="role"&&await ve(h,h.id),await A(),S(),(s=d.value)==null||s.close()}catch(h){h instanceof ie?E(h.messages):$(h)}}),q=c(t=>{_.push({name:"ProfileDetails",params:{userId:t.id,profileId:t.profile.id}})},"openUserProfile"),S=c(()=>{r("id",""),r("email",""),r("role",""),f.value=!1},"resetCreateForm"),P=[{name:"Member",value:"default"},{name:"Admin",value:"admin"},{name:"Observer",value:"observer"}],H=T(()=>P);z(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const J=c(()=>xe({queryKey:["getTrashedUsersKey"],queryFn:async()=>(await Ae({paginate:"false"})).data}),"getUsers"),{isLoading:W,data:X,refetch:A}=J(),j=c(t=>{S(),b.value="role",r("id",t.userId),r("role",t.role),r("email",t.userEmail),n()},"handleRoleUpdated"),G=y([]),Q=c(async()=>{const t=await ge({paginate:"false"});G.value=t.data},"getRoles");z(async()=>{await Q()});const Z=c(async t=>{await Fe(t),await A()},"onForceDeleteUser"),ee=c(async t=>{await Me(t),await A()},"onRestoreDeleteUser");return window.addEventListener("fetchUsersData",()=>{A()}),(t,R)=>i(l).hasPermission(["view users"])?(o(),a("div",st,[ot,e("div",at,[e("div",lt,[(o(!0),a(I,null,L(i(X),(s,h)=>{var V;return o(),a("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:s.id},[e("div",rt,[e("div",nt,[e("div",it,[e("div",dt,[e("a",ct,[e("img",{src:i(me)(s.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,ut)])]),e("h3",mt,[i(l).hasPermission(["view user profile"])?(o(),a("a",{key:0,href:"",onClick:U(F=>q(s),["prevent"])},u(s.full_name),9,_t)):D("",!0),i(l).hasPermission(["view user profile"])?(o(),a("button",{key:1,type:"button",onClick:U(F=>q(s),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},bt,8,pt)):D("",!0),te(e("button",{type:"button",onClick:U(F=>Z(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},yt,8,ft),[[re,s.role!=="Super Admin"]]),te(e("button",{type:"button",onClick:U(F=>ee(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},wt,8,xt),[[re,s.role!=="Super Admin"]])]),e("p",$t,u(s.role),1)]),i(l).hasPermission(["assign user permision"])?(o(),a("div",kt,[Ut,e("div",Rt,[p($e,{user:s,roles:G.value,disableRemoteRole:0,onRoleUpdated:j},null,8,["user","roles"])])])):(o(),a("div",Ct,[Et,e("div",St,u((V=s.roles[0])==null?void 0:V.name),1)])),e("div",qt,[Dt,e("p",Tt,u(i(_e)(s.updated_at,null)),1)])])])])}),128))])]),e("div",It,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:d},[e("form",Pt,[At,Ft,e("div",Mt,[e("div",Nt,[e("form",{novalidate:"",onSubmit:R[0]||(R[0]=U((...s)=>t.onSubmitCreate&&t.onSubmitCreate(...s),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[p(v,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter User Email",type:"email"}),p(we,{title:"Roles",name:"role",options:H.value},null,8,["options"]),Lt],32)])])])],512)]),e("div",jt,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:w},[e("div",Vt,[e("form",Yt,[Bt,Kt,e("div",Ot,[e("form",{novalidate:"",onSubmit:R[1]||(R[1]=(...s)=>t.onSubmitEdit&&t.onSubmitEdit(...s))},[e("div",Gt,[p(v,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),p(v,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),p(v,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),p(v,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),p(v,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),p(v,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",Qt,[e("div",zt,[i(W)?(o(),le(ye,{key:1})):(o(),a("button",Ht,"Sign In"))])])],32)])])])],512)])])):(o(),a("div",Jt,Xt))}});const es=se(Zt,[["__scopeId","data-v-ce2278d8"]]),x=c(m=>(de("data-v-04d8d028"),m=m(),ce(),m),"_withScopeId"),ts={key:0,class:"container-fluid"},ss={class:"card-header flex items-center"},os=x(()=>e("div",{class:"flex items-center flex-1 w-full"},[e("h2",{class:"card-header-title h3"}," Users ")],-1)),as={key:0,class:"flex items-center space-x-2"},ls=x(()=>e("i",{class:"far fa fa-plus mr-2"},null,-1)),rs=x(()=>e("span",{class:""},"Add User",-1)),ns={class:"container-fluid"},is={class:"row"},ds={class:"card card-outline card-primary h-100"},cs={class:"card-body box-profile"},us={class:"text-center"},ms={class:"avatar avatar-md mb-3"},_s=["src"],ps={class:"profile-username text-center text-primary"},hs=["onClick"],bs=["onClick"],fs=x(()=>e("i",{class:"far fa-eye"},null,-1)),vs=[fs],ys=["onClick"],xs=x(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),gs=[xs],ws={class:"text-muted text-center text-bold"},$s={key:0,class:"mt-3"},ks=x(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),Us={class:"text-center"},Rs={key:1,class:"mt-3"},Cs=x(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Roles ",-1)),Es={class:"text-center"},Ss={class:"mt-3"},qs=x(()=>e("div",{class:"text-bold text-danger text-center mb-1"}," Last Updated ",-1)),Ds={class:"text-center text-primary text-small"},Ts={class:"flex justify-center col-md-6"},Is={method:"dialog",class:"modal-box rounded-xl"},Ps=x(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Add User"),-1)),As=x(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Fs={class:"w-full mt-6 p-2"},Ms={class:"font-thin text-sm flex flex-col items-center gap-6"},Ns=x(()=>e("button",{type:"submit",class:"btn btn-md mb-1 w-full pt-1 text-red-600 mt-6 bg-primary"},u("Add User"),-1)),Ls={class:"flex justify-center col-md-6"},js={class:"card card-outline card-primary register-box"},Vs={method:"dialog",class:"modal-box rounded-xl"},Ys=x(()=>e("h3",{class:"font-bold text-lg justify-center flex"},u("Edit User"),-1)),Bs=x(()=>e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕",-1)),Ks={class:"card-body"},Os={class:"row"},Gs={class:"row"},Qs={class:"col-md-12 mb-2"},zs={key:0,type:"submit",class:"btn btn-primary btn-block"},Hs={key:1,class:"container-fluid"},Js=x(()=>e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1)),Ws=[Js],Xs=B({__name:"Everyone",setup(m){const l=oe();ue();const _=ae(),f=y(!1),b=y("create"),d=y(null),w=y(null),$=pe(),C=he({id:N().nullable(),email:N().required("Email is required"),role:N().required("Role is required")}),{handleSubmit:k,setErrors:E,setFieldValue:r,values:K,errors:O}=be({validationSchema:C,initialValues:{id:"",email:"",role:""}}),n=c(()=>{var t;P(),b.value="create",f.value=!0,(t=d.value)==null||t.showModal()},"openCreateUserModal"),q=k(async(t,{resetForm:R})=>{var s;try{const h={id:t.id,email:t.email,role:t.role};b.value==="create"?await fe(h):b.value==="role"&&await ve(h,h.id),await j(),P(),(s=d.value)==null||s.close()}catch(h){h instanceof ie?E(h.messages):$(h)}}),S=c(t=>{_.push({name:"ProfileDetails",params:{userId:t.id,profileId:t.profile.id}})},"openUserProfile"),P=c(()=>{r("id",""),r("email",""),r("role",""),f.value=!1},"resetCreateForm"),H=[{name:"Member",value:"default"},{name:"Admin",value:"admin"},{name:"Observer",value:"observer"}],J=T(()=>H);z(async()=>{window.dispatchEvent(new CustomEvent("updateTitle",{detail:"Users"}))});const W=c(()=>xe({queryKey:["getUsersKey"],queryFn:async()=>(await Ne({paginate:"false"})).data}),"getUsers"),{isLoading:X,data:A,refetch:j}=W(),G=c(t=>{P(),b.value="role",r("id",t.userId),r("role",t.role),r("email",t.userEmail),q()},"handleRoleUpdated"),Q=y([]),Z=c(async()=>{const t=await ge({paginate:"false"});Q.value=t.data},"getRoles");z(async()=>{await Z()});const ee=c(async t=>{await Le(t),await j()},"onDeleteUser");return window.addEventListener("fetchUsersData",()=>{j()}),(t,R)=>i(l).hasPermission(["view users"])?(o(),a("div",ts,[e("div",ss,[os,i(l).hasPermission(["create user"])?(o(),a("div",as,[e("button",{type:"button",onClick:U(n,["prevent"]),class:"btn btn-sm btn-primary"},[ls,Y(),rs])])):D("",!0)]),e("div",ns,[e("div",is,[(o(!0),a(I,null,L(i(A),(s,h)=>{var V;return o(),a("div",{class:"col-lg-3 col-md-4 col-sm-6 mb-3",key:s.id},[e("div",ds,[e("div",cs,[e("div",us,[e("div",ms,[e("img",{src:i(me)(s.profile.avatar),class:"profile-user-img img-fluid img-circle",role:"img","data-uw-rm-alt":"ALT"},null,8,_s)]),e("h3",ps,[i(l).hasPermission(["view user profile"])?(o(),a("a",{key:0,href:"",onClick:U(F=>S(s),["prevent"])},u(s.full_name),9,hs)):D("",!0),i(l).hasPermission(["view user profile"])?(o(),a("button",{key:1,type:"button",onClick:U(F=>S(s),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},vs,8,bs)):D("",!0),i(l).hasPermission(["delete user"])?(o(),a("button",{key:2,type:"button",onClick:U(F=>ee(s.id),["prevent"]),title:"",class:"mx-2 btn btn-sm btn-primary"},gs,8,ys)):D("",!0)]),e("p",ws,u(s.role),1)]),i(l).hasPermission(["assign user permision"])?(o(),a("div",$s,[ks,e("div",Us,[p($e,{user:s,roles:Q.value,disableRemoteRole:0,onRoleUpdated:G},null,8,["user","roles"])])])):(o(),a("div",Rs,[Cs,e("div",Es,u((V=s.roles[0])==null?void 0:V.name),1)])),e("div",Ss,[qs,e("p",Ds,u(i(_e)(s.updated_at,null)),1)])])])])}),128))])]),e("div",Ts,[e("dialog",{id:"usermodal",class:"modal",ref_key:"UserModal",ref:d},[e("form",Is,[Ps,As,e("div",Fs,[e("div",Ms,[e("form",{novalidate:"",onSubmit:R[0]||(R[0]=U((...s)=>t.onSubmitCreate&&t.onSubmitCreate(...s),["prevent"])),class:"w-full rounded-xl mx-auto p-1 custom-modal"},[p(v,{labeled:!0,label:"Email",name:"email",class:"w-full text-sm tracking-wide",placeholder:"Enter User Email",type:"email"}),p(we,{title:"Roles",name:"role",options:J.value},null,8,["options"]),Ns],32)])])])],512)]),e("div",Ls,[e("dialog",{id:"usersmodal",class:"modal",ref_key:"UsersModal",ref:w},[e("div",js,[e("form",Vs,[Ys,Bs,e("div",Ks,[e("form",{novalidate:"",onSubmit:R[1]||(R[1]=(...s)=>t.onSubmitEdit&&t.onSubmitEdit(...s))},[e("div",Os,[p(v,{labeled:!0,direction:"up",label:"Your First Name",name:"first",class:"w-full text-sm tracking-wide col-md-6",placeholder:"Enter your First Name",type:"text"}),p(v,{labeled:!0,direction:"up",label:"Your Last Name",name:"last",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Last Name",type:"text"}),p(v,{labeled:!0,direction:"up",label:"ID Number",name:"id_number",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your ID Number",type:"number"}),p(v,{labeled:!0,direction:"up",label:"Phone",name:"phone",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"Enter your Phone",type:"number"}),p(v,{labeled:!0,direction:"up",label:"Email",name:"email",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"youe Email",type:"email"}),p(v,{labeled:!0,direction:"up",label:"Password **",name:"password",class:"w-full text-sm tracking-wide col-md-6 mb-2",placeholder:"*****",type:"password"})]),e("div",Gs,[e("div",Qs,[i(X)?(o(),le(ye,{key:1})):(o(),a("button",zs,"Sign In"))])])],32)])])])],512)])])):(o(),a("div",Hs,Ws))}});const Zs=se(Xs,[["__scopeId","data-v-04d8d028"]]),eo={key:0,class:"container-fluid"},to={class:"col-md-12"},so={class:"card card-widget widget-user shadow-lg"},oo={class:"card-footer"},ao={class:""},lo={class:"info-box-icon bg-danger",style:{left:"4%","margin-left":"-45px",position:"absolute",top:"190px"}},ro=["src"],no={class:"ml-3 flex-1",style:{"margin-top":"-28px"}},io=e("i",{class:"fas fa-chevron-left fa-xs"},null,-1),co=e("h3",{class:"h2 mb-2 lg:mb-0",style:{"margin-left":"131px"}}," Users ",-1),uo={class:"card-outline card-outline-tabs"},mo={class:"card-header p-0 border-bottom-0"},_o={class:"nav nav-tabs",id:"custom-tabs-four-tab",role:"tablist"},po=["onClick"],ho={class:"card-body"},bo={class:"tab-content",id:"custom-tabs-four-tabContent"},fo=["id"],vo={key:1,class:"container-fluid"},yo=e("p",{class:"m-0"},[e("span",{class:"h3 text-primary text-bold text-danger"},"Sorry, You are not Authorised to view this page")],-1),xo=[yo],To=B({__name:"Users",setup(m){const l=ue(),_=ae(),f=oe();function b(){_.back()}c(b,"goBack");const d=y("users"),w=y(""),$=[{id:"users",name:"All Users",component:Zs},{id:"trashed",name:"Trashed Users",component:es}],C=c(k=>{w.value=d.value,d.value=k},"setActiveTab");return Se(d,(k,E)=>{(k==="users"||k==="trashed")&&window.dispatchEvent(new CustomEvent("fetchUsersData"))}),ne(()=>{l.query.previousTab&&(w.value=l.query.previousTab),l.query.currentTab&&(d.value=l.query.currentTab)}),ne(()=>{l.query.previousTab&&(w.value=l.query.previousTab),l.query.currentTab&&(d.value=l.query.currentTab)}),(k,E)=>i(f).hasPermission(["view users"])?(o(),a("div",eo,[e("div",to,[e("div",so,[e("div",{class:"widget-user-header text-white",style:qe([{background:`url(${i(Te)("default.png")}) center center`},{height:"250px"}])},null,4),e("div",oo,[e("div",ao,[e("span",lo,[e("img",{class:"img-square",src:i(Ie)("defaulticon.png"),alt:"User Avatar",style:{width:"128px",height:"128px"}},null,8,ro)]),e("div",no,[e("a",{href:"",onClick:E[0]||(E[0]=U(r=>b(),["prevent"])),class:"mb-2 lg:mb-0 text-blue-primary",style:{"margin-left":"131px","margin-top":"-44px"}},[io,Y(" Dashboard ")]),co,e("div",uo,[e("div",mo,[e("ul",_o,[(o(),a(I,null,L($,r=>e("li",{class:"nav-item",key:r.id},[e("a",{class:M(["nav-link",{active:d.value===r.id}]),onClick:K=>C(r.id)},u(r.name),11,po)])),64))])]),e("div",ho,[e("div",bo,[(o(),a(I,null,L($,r=>e("div",{key:r.id,class:M(["tab-pane fade",{"show active":d.value===r.id}]),id:r.id,role:"tabpanel"},[(o(),le(De(r.component),{onChangeTab:C,onMembershipsUpdated:k.handleMembershipsUpdated},null,40,["onMembershipsUpdated"]))],10,fo)),64))])])])])])])])])])):(o(),a("div",vo,xo))}});export{To as default};
